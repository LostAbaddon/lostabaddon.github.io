{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/navbar.vue","webpack:///./src/assets/js/granary.js","webpack:///./src/assets/js/cacheCenter.js","webpack:///./src/App.vue","webpack:///./src/App.vue?dff9","webpack:///./src/components/infobox.vue","webpack:///./src/components/infobox.vue?1fc9","webpack:///./src/components/keyManager.vue","webpack:///./src/components/keyManager.vue?da84","webpack:///./src/assets/js/cacheDB.js","webpack:///./src/main.js","webpack:///./src/assets/js/markup-footnote.js","webpack:///./src/components/notification.vue","webpack:///./src/components/notification.vue?693e","webpack:///./src/components/crumb.vue","webpack:///./src/components/crumb.vue?2884","webpack:///./src/assets/js/core.js","webpack:///./src/components/navbar.vue?03e1","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?e819","webpack:///./src/views/Category.vue","webpack:///./src/views/Category.vue?1bd5","webpack:///./src/views/viewer.vue","webpack:///./src/views/viewer.vue?1d26","webpack:///./src/router/index.js","webpack:///./src/components/imageShowcase.vue","webpack:///./src/components/imageShowcase.vue?76f0","webpack:///./src/components/navmenubar.vue","webpack:///./src/components/navmenubar.vue?7e6e","webpack:///./src/components/loading.vue","webpack:///./src/components/tail.vue","webpack:///./src/components/tail.vue?54d8","webpack:///./src/components/loading.vue?183c","webpack:///./src/components/column.vue","webpack:///./src/components/columnItem.vue","webpack:///./src/components/columnItem.vue?84e6","webpack:///./src/components/column.vue?6b40","webpack:///./src/assets/js/markup.js","webpack:///./src/components/navmenuitem.vue","webpack:///./src/components/navmenuitem.vue?8b1e","webpack:///./src/assets/js/lrucache.js","webpack:///./src/assets/js/imageWall.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","generateSiteMap","menu","map","forEach","item","subs","category","current","global","getPathNameList","path","needHome","SiteMap","reqs","some","entry","join","query","unshift","BroadcastChannel","addEventListener","disableFavoriteAction","append","list","localStorage","index","url","title","set","updateMemory","aboutMe","aboutMenu","disabled","memoryMenu","this","memoryMode","methods","Devices","isMobile","querySelector","classList","add","location","history","favorite","historyList","favoriteList","favorited","PageInfo","chDataUpdated","totalDecodeURI","uri","next","decodeURIComponent","Barn","server","DB","ready","API","DataGranary","CachedDB","onUpdate","open","log","onConnect","connect","cbs","waiters","res","waitForReady","notStill","timestamp","async","isSource","match","cache","update","axios","Date","now","oldTime","newTime","msg","latest","last","postMessage","clearCache","clear","Granary","source","limit","articles","comments","Array","generate","String","is","sort","a","b","publish","sources","getSource","owner","pages","filter","art","indexOf","articleList","id","filename","old","values","info","filepath","content","sessionStorage","tasks","caches","delete","clearAllCache","init","navigator","serviceWorker","channel","keys","cacheStorage","cacheKeys","sws","getRegistrations","sw","waiting","notify","duration","reg","register","onupdatefound","evt","class","hAlign","vAlign","show","overscroll","backTop","ref","onClick","chScroll","app","onscroll","onScroll","scrollTop","offsetHeight","top","total","scrollHeight","height","$refs","masker","remove","scrollBy","behavior","render","action","hidden","actYes","actNo","actOk","actCancel","callback","responsor","showInfobox","option","showInfoBox","showInput","component","input","toLowerCase","innerHTML","innerText","inputter","close","keyList","chooseKey","editable","removeKey","onEnter","appendKey","DefaultKey","CurrentKey","getItem","setItem","currentKey","$el","keyInputter","focus","keyCode","version","_name","_version","conn","db","cbUpdates","cbConnects","rej","indexedDB","onupgradeneeded","cb","onsuccess","keyPath","cacheSize","objectStoreNames","contains","store","createObjectStore","createIndex","unique","size","LRUCache","tx","transaction","objectStore","put","ufc","getAll","del","body","LifeCycle","emit","loaded","InitAsimov","config","globalProperties","SiteName","SiteOwner","LikeCoin","use","mount","initialized","updateTarget","removeItem","NoteFrame","lastUI","ele","cn","className","substr","substring","parentElement","replace","outerHTML","html","_status","rect","getBoundingClientRect","isTop","isLeft","left","innerWidth","right","innerHeight","style","bottom","display","wait","opacity","onLeave","onTransit","css","computedStyleMap","toString","enter","initUI","UI","querySelectorAll","inited","deactiveUI","removeEventListener","removeAttribute","InitNotes","destructe","findTableCol","table","col","notdone","tagName","children","dir","rows","row","td","isNaN","ra","rb","parent","BarHeight","BarSpan","BarRightMargin","BarColorList","animateChart","chart","_index","_limit","_data","copy","hint","_hint","_titleHint","tail","Number","_count","max","v","_bars","Math","color","width","round","_panelWidth","backgroundColor","_value","_duration","_replay","pointerEvents","_repeat","initTableAnimationChart","trim","JSON","parse","marginLeft","_panel","bar","w","ceil","horizontal","vertial","chMessage","showMessage","props","floor","random","newMsg","exit","timer","header","article","jump","currCrumb","Proxy","toObject","$router","$route","split","f","pop","fullpath","def","__proto__","stringify","loadJS","js","loadCSS","utf8tobase64","str","btoa","unescape","encodeURIComponent","base64toutf8","escape","atob","base64tobuffer","dec","len","parseInt","charCodeAt","Uint8Array","findContentWrapper","nodeName","includes","onVueHyperLinkTriggered","vue","offset","offsetTop","preventDefault","originPath","hash","afterMarkUp","FootNoteUnInited","MathJax","Hub","Config","extensions","TeX","jax","tex2jax","inlineMath","displayMath","availableFonts","showMathMenu","Queue","ImageWall","on","mutationObserver","MutationObserver","markups","mu","MarkUp","toc","glossary","resources","showtitle","showauthor","classname","observe","childList","subtree","changeThemeColor","tmrDataUpdated","cbDataUpdated","reload","toggleHint","backHome","menuList","read","level","gotoMenu","likecoin","showPassword","submitIV","chPageChanged","chChangeLoadingHint","chUpdateHistory","CCLicenses","LicensesContent","BY","SA","NC","ND","lastIVRequest","showLikeCoin","chapList","chapMap","isMU","isEncrypt","crypto","getRandomValues","subtle","encrypt","decrypt","getArticle","getContent","copyright","markup","hasContent","fullParse","date","meta","others","CopyRight","addLikeCoin","refreshMenu","adjustCopyRight","licenses","toUpperCase","crSection","sect","link","nextSibling","likeCoin","available","forbidden","host","hostname","every","fb","chap","chapEle","noLeft","delta","menuKey","lastRes","iv","ivinputter","importKey","keyMap","requestIVWord","TextDecoder","decode","routes","Home","Category","router","afterEach","to","from","fullPath","scrollTo","gallary","image","inactive","findWall","img","wall","hitted","g","pic","naturalWidth","naturalHeight","showGallary","h","x","offsetX","y","offsetY","limitX","limitY","ww","hh","supers","callPageLoaded","ch","quiter","forcequit","forceQuit","author","description","timemark","categoryName","categoryPath","redirect","getTimeString","_","currColumn","nameMap","Map","getName","components","ColumnItem","itemPerPage","showList","getColumnHeader","getCategory","placehoding","getTime","cateList","cateType","cate","getHeaderInfo","getArticleList","SharedWorker","Worker","asimovWorker","workerPort","workerName","TaskPool","generateID","port","onmessage","text","onbeforeunload","click","Boolean","origin","can_go","same_page","c1","c2","SymbUpdate","DefaultSize","isNumber","num","secondary","k","has","queryAll","eles","createEle","cls","stopOthers","pause","whRate","Container","avs","onplay","imageCount","imageLoaded","divs","_total","_frame","_float","_left","transform","_right","_callback","_ready","div","frame","_wall","fig","inside","containerWidth","_available","backgroundImage","rateWidth","rateHeight","paddingTop"],"mappings":"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","file":"js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"index\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2ca2da94\":1,\"chunk-4896750e\":1,\"chunk-604d0331\":1,\"chunk-65e05aa6\":1,\"chunk-75ac00fa\":1,\"chunk-821ebf42\":1,\"chunk-9f35a268\":1,\"chunk-af009578\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\r\n\t<div class=\"nav-bar\">\r\n\t\t<div class=\"nav-hint\" @click=\"toggleHint\"><i class=\"fas fa-angle-right\" /></div>\r\n\t\t<div class=\"nav-docker\">\r\n\t\t\t<a @click=\"backHome\"></a>\r\n\t\t\t<i class=\"fas fa-caret-right\" />\r\n\t\t\t<div class=\"nav-container\">\r\n\t\t\t\t<NavMenuBar :menu=\"menu\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"about-bar nav-container right\">\r\n\t\t\t\t<NavMenuBar :menu=\"aboutMenu\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst generateSiteMap = menu => {\r\n\tvar map = {};\r\n\tmenu.forEach(m => {\r\n\t\tvar item = { \"name\": m.name, \"type\": m.type };\r\n\t\tif (!!m.subs) item.subs = generateSiteMap(m.subs);\r\n\t\tmap[m.category] = item;\r\n\t});\r\n\treturn map;\r\n};\r\nglobal.getPathNameList = (path, needHome=true) => {\r\n\tif (!global.SiteMap) return null;\r\n\tvar map = global.SiteMap, reqs = [], result = [];\r\n\tpath.some((p, i) => {\r\n\t\tif (!map) return true;\r\n\t\tvar entry = map[p];\r\n\t\tif (!entry) return true;\r\n\t\tvar item = { name: entry.name };\r\n\t\treqs.push(p);\r\n\t\tif (entry.type === 'page') {\r\n\t\t\titem.path = '/' + reqs.join('/');\r\n\t\t}\r\n\t\telse if (entry.type === 'viewer' || entry.type === 'view' || entry.type === 'folder') {\r\n\t\t\titem.path = '/category';\r\n\t\t\titem.query = {c:reqs.join(',')};\r\n\t\t}\r\n\t\tmap = entry.subs;\r\n\t\tresult.push(item);\r\n\t});\r\n\tif (needHome) result.unshift({ name: \"\", path: '/' });\r\n\treturn result;\r\n};\r\nvar current;\r\n(new BroadcastChannel('route-updated')).addEventListener('message', ({data}) => {\r\n\tif (!!current) current.disableFavoriteAction();\r\n});\r\n(new BroadcastChannel('memory-updated')).addEventListener('message', ({data}) => {\r\n\tvar name, append = true;\r\n\tif (data.type === 'history') {\r\n\t\tname = 'memory/history';\r\n\t}\r\n\telse if (data.type === 'favorite') {\r\n\t\tname = 'memory/favorite';\r\n\t}\r\n\telse if (data.type === 'unfavorite') {\r\n\t\tname = 'memory/favorite';\r\n\t\tappend = false;\r\n\t}\r\n\telse {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar list = localStorage.get(name, []);\r\n\tvar index = -1;\r\n\tlist.some((item, i) => {\r\n\t\tif (item[1] !== data.url) return;\r\n\t\tindex = i;\r\n\t\treturn true;\r\n\t});\r\n\tif (index >= 0) {\r\n\t\tlist.splice(index, 1);\r\n\t}\r\n\tif (append) {\r\n\t\tlist.unshift([data.title, data.url]);\r\n\t\tif (list.length > 10) {\r\n\t\t\tlist.splice(10, list.length - 10);\r\n\t\t}\r\n\t}\r\n\tlocalStorage.set(name, list);\r\n\r\n\tif (!!current) current.updateMemory();\r\n});\r\n\r\nexport default {\r\n\tname: 'NavBar',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tmenu: [\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"essay\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"mindstorm\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"reviews\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"issue\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"science\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"math\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"combination\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"number\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"geometry\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"physics\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gravity\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"gauge\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"complexnetwork\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"quantumcompute\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\t\t\"category\": \"virtual\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"AIT\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"IT\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"IT\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"viewer\",\n\t\t\"category\": \"novel\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"scific\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"magic\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"viewer\",\n\t\t\t\t\"category\": \"detective\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"tools\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \" MarkUp\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"parseMarkup\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"markupEditor\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"calculator\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"entertain\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"ballcrush\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"rushgo\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"training\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"tritetris\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"2048\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"infinity2048\"\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"folder\",\n\t\t\"category\": \"library\",\n\t\t\"subs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"chinesecolor\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"\",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"japanesecolor\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"page\",\n\t\t\t\t\"category\": \"\",\n\t\t\t\t\"subs\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"MarkUp \",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"markup\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"name\": \"LaTeX \",\n\t\t\t\t\t\t\"type\": \"page\",\n\t\t\t\t\t\t\"category\": \"latex\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"article\",\n\t\t\t\t\"category\": \"library/data.md\"\n\t\t\t}\n\t\t]\n\t}\n],\r\n\t\t\taboutMe: \"aboutMe\",\r\n\t\t\taboutMenu: [\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\tcategory: 'addFavorite',\r\n\t\t\t\t\tdisabled: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\tcategory: 'color',\r\n\t\t\t\t\tsubs: [\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"light\"\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"normal\"\n\t},\n\t{\n\t\t\"name\": \"\",\n\t\t\"type\": \"action\",\n\t\t\"category\": \"dark\"\n\t}\n]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\tcategory: '',\r\n\t\t\t\t\tsubs: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\t\t\tcategory: 'keyManager',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\t\t\tcategory: 'about'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tmemoryMenu: {\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'page',\r\n\t\t\t\tcategory: '',\r\n\t\t\t\tsubs: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\t\tcategory: '',\r\n\t\t\t\t\t\tsubs: []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '',\r\n\t\t\t\t\t\ttype: 'page',\r\n\t\t\t\t\t\tcategory: '',\r\n\t\t\t\t\t\tsubs: []\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tcurrent = this;\r\n\r\n\t\tif (!!this.aboutMe) {\r\n\t\t\tthis.aboutMenu[2].subs[1] = {\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'page',\r\n\t\t\t\tcategory: '',\r\n\t\t\t\tsubs: [this.aboutMenu[2].subs[1]]\r\n\t\t\t};\r\n\t\t\tthis.aboutMenu[2].subs[1].subs.unshift({\r\n\t\t\t\tname: '',\r\n\t\t\t\ttype: 'page',\r\n\t\t\t\tcategory: this.aboutMe\r\n\t\t\t});\r\n\t\t\tthis.aboutMenu[2].subs[1].subs[1].name = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.aboutMenu[2].subs[1].name = '';\r\n\t\t}\r\n\t\tif (memoryMode === 1) {\r\n\t\t\tthis.memoryMenu.name = '';\r\n\t\t}\r\n\t\telse if (memoryMode === 2) {\r\n\t\t\tthis.memoryMenu.name = '';\r\n\t\t}\r\n\t\tthis.menu.push(this.memoryMenu);\r\n\r\n\t\tthis.updateMemory();\r\n\r\n\t\tglobal.SiteMap = generateSiteMap(this.menu);\r\n\t},\r\n\tmethods: {\r\n\t\ttoggleHint () {\r\n\t\t\tif (!Devices.isMobile) return;\r\n\t\t\tdocument.querySelector('.masker').classList.add('show');\r\n\t\t},\r\n\t\tbackHome () {\r\n\t\t\tlocation.href = '/#'; // URL\r\n\t\t},\r\n\t\tupdateMemory () {\r\n\t\t\tif (memoryMode < 1) {\r\n\t\t\t\tthis.aboutMenu[0].disabled = true;\r\n\t\t\t\tthis.memoryMenu.disabled = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (memoryMode === 1) this.aboutMenu[0].disabled = true;\r\n\t\t\telse this.aboutMenu[0].disabled = false;\r\n\r\n\t\t\tvar history = [], favorite = [];\r\n\t\t\tif (memoryMode !== 2) history = localStorage.get('memory/history', history);\r\n\t\t\tif (memoryMode !== 1) favorite = localStorage.get('memory/favorite', favorite);\r\n\r\n\t\t\tif (history.length === 0 && favorite.length === 0) {\r\n\t\t\t\tthis.memoryMenu.disabled = true;\r\n\t\t\t\tif (memoryMode > 1) {\r\n\t\t\t\t\tthis.aboutMenu[0].name = '';\r\n\t\t\t\t\tthis.aboutMenu[0].category = 'addFavorite';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.memoryMenu.disabled = false;\r\n\r\n\t\t\t\tif (history.length === 0) {\r\n\t\t\t\t\tif (this.memoryMode === 1) {\r\n\t\t\t\t\t\tthis.memoryMenu.disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.memoryMode > 2) {\r\n\t\t\t\t\t\tthis.memoryMenu.subs[1].disabled = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlet historyList;\r\n\t\t\t\t\tif (memoryMode === 1) {\r\n\t\t\t\t\t\thistoryList = this.memoryMenu;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (memoryMode > 2) {\r\n\t\t\t\t\t\thistoryList = this.memoryMenu.subs[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t\thistoryList.disabled = false;\r\n\t\t\t\t\tif (historyList.subs.length > history.length) {\r\n\t\t\t\t\t\thistoryList.subs.splice(history.length, historyList.subs.length - history.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\thistory.forEach((item, i) => {\r\n\t\t\t\t\t\thistoryList.subs[i] = {\r\n\t\t\t\t\t\t\tname: item[0],\r\n\t\t\t\t\t\t\ttype: 'article',\r\n\t\t\t\t\t\t\tcategory: item[1]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (favorite.length === 0) {\r\n\t\t\t\t\tif (this.memoryMode === 2) {\r\n\t\t\t\t\t\tthis.memoryMenu.disabled = true;\r\n\t\t\t\t\t\tthis.aboutMenu[0].name = '';\r\n\t\t\t\t\t\tthis.aboutMenu[0].category = 'addFavorite';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.memoryMode > 2) {\r\n\t\t\t\t\t\tthis.memoryMenu.subs[0].disabled = true;\r\n\t\t\t\t\t\tthis.aboutMenu[0].name = '';\r\n\t\t\t\t\t\tthis.aboutMenu[0].category = 'addFavorite';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.memoryMenu.subs[0].disabled = false;\r\n\t\t\t\t\tlet favoriteList;\r\n\t\t\t\t\tif (memoryMode === 2) {\r\n\t\t\t\t\t\tfavoriteList = this.memoryMenu;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (memoryMode > 2) {\r\n\t\t\t\t\t\tfavoriteList = this.memoryMenu.subs[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfavoriteList.disabled = false;\r\n\t\t\t\t\tif (favoriteList.subs.length > favorite.length) {\r\n\t\t\t\t\t\tfavoriteList.subs.splice(favorite.length, favoriteList.subs.length - favorite.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet favorited = false;\r\n\t\t\t\t\tfavorite.forEach((item, i) => {\r\n\t\t\t\t\t\tfavoriteList.subs[i] = {\r\n\t\t\t\t\t\t\tname: item[0],\r\n\t\t\t\t\t\t\ttype: 'article',\r\n\t\t\t\t\t\t\tcategory: item[1]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (item[1] === (window.PageInfo || '').url) favorited = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (favorited) {\r\n\t\t\t\t\t\tthis.aboutMenu[0].name = '';\r\n\t\t\t\t\t\tthis.aboutMenu[0].category = 'removeFavorite';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.aboutMenu[0].name = '';\r\n\r\n\t\t\t\t\t\tthis.aboutMenu[0].category = 'addFavorite';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdisableFavoriteAction () {\r\n\t\t\tthis.aboutMenu[0].disabled = true;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","const chDataUpdated = new BroadcastChannel('source-updated');\r\nwindow.totalDecodeURI = uri => {\r\n\tvar next = decodeURIComponent(uri);\r\n\tif (next === uri) return next;\r\n\telse return totalDecodeURI(next);\r\n};\r\n\r\nconst Barn = {\r\n\tserver: '',\r\n\tDB: null,\r\n\tready: false,\r\n\tAPI: '/api',\r\n\tDataGranary: '/api/granary',\r\n\tasync init () {\r\n\t\tBarn.DB = new CachedDB(\"APIData\", 1);\r\n\t\tBarn.DB.onUpdate(() => {\r\n\t\t\tBarn.DB.open('data', 'url', 10);\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Updated');\r\n\t\t});\r\n\t\tBarn.DB.onConnect(() => {\r\n\t\t\tconsole.log('Barn::CacheStorage::APIData Connected');\r\n\t\t});\r\n\t\tawait Barn.DB.connect();\r\n\t\tBarn.ready = true;\r\n\r\n\t\tvar cbs = [...Barn.waiters];\r\n\t\tBarn.waiters = [];\r\n\t\tcbs.forEach(res => res());\r\n\t},\r\n\twaiters: [],\r\n\twaitForReady: () => new Promise(res => {\r\n\t\tif (Barn.ready) return res();\r\n\t\tBarn.waiters.push(res);\r\n\t}),\r\n\tget (url, notStill=false, timestamp=0) {\r\n\t\treturn new Promise(async res => {\r\n\t\t\tvar isSource = !!url.match(/(^sources|[\\\\\\/]sources)\\.json$/);\r\n\t\t\tif (!Barn.ready) {\r\n\t\t\t\tawait Barn.waitForReady();\r\n\t\t\t}\r\n\t\t\tvar cache = await Barn.DB.get('data', url);\r\n\t\t\tif (!!cache) {\r\n\t\t\t\tres(cache.data);\r\n\t\t\t\tif (!!notStill && timestamp <= cache.update) return;\r\n\t\t\t}\r\n\t\t\tvar data;\r\n\t\t\ttry {\r\n\t\t\t\tdata = await axios.get(Barn.server + url);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tdata = null;\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t\tif (!!data) data = data.data;\r\n\t\t\tif (!!data) {\r\n\t\t\t\tawait Barn.DB.set('data', url, {data, update: timestamp || Date.now()});\r\n\t\t\t\tlet oldTime = !!cache ? (cache.data.update || 0) : 0;\r\n\t\t\t\tlet newTime = data.update || 0;\r\n\t\t\t\tif (newTime > oldTime) {\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\tlatest: newTime,\r\n\t\t\t\t\t\tlast: oldTime\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (isSource) msg.target = 'SOURCE';\r\n\t\t\t\t\telse msg.target = url;\r\n\t\t\t\t\tchDataUpdated.postMessage(msg);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!cache) res(data);\r\n\t\t});\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tBarn.DB.clearCache('data');\r\n\t\tawait Barn.DB.clear('data');\r\n\t},\r\n};\r\n\r\n// \r\nwindow.Granary = {\r\n\tasync getSource (source, limit) {\r\n\t\tsource = totalDecodeURI(source);\r\n\t\tvar result = { articles: [], comments: [] };\r\n\t\tawait Promise.all(Array.generate(limit + 1).map(async index => {\r\n\t\t\tvar url = Barn.API + '/' + source + '-' + index + '.json';\r\n\t\t\tvar d = await Barn.get(url, limit !== index);\r\n\t\t\tif (String.is(d)) return;\r\n\t\t\tresult.articles.push(...d.articles);\r\n\t\t\tresult.comments.push(...d.comments);\r\n\t\t}));\r\n\t\tresult.articles.sort((a, b) => b.publish - a.publish);\r\n\t\tresult.comments.sort((a, b) => b.publish - a.publish);\r\n\t\treturn result;\r\n\t},\r\n\tasync getCategory (category) {\r\n\t\tcategory = totalDecodeURI(category);\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tvar data = [];\r\n\t\tif (!sources || !sources.sources) return data;\r\n\t\tawait Promise.all(sources.sources.map(async source => {\r\n\t\t\tvar d = await Granary.getSource(source.owner, source.pages);\r\n\t\t\td = d.articles.filter(art => art.sort.indexOf(category) === 0);\r\n\t\t\tdata.push(...d);\r\n\t\t}));\r\n\t\tvar articleList = {};\r\n\t\tdata.forEach(art => {\r\n\t\t\tvar id = null;\r\n\t\t\tif (art.type === 'article') {\r\n\t\t\t\tid = art.sort + '/' + art.filename\r\n\t\t\t}\r\n\t\t\telse if (art.type === 'redirect') {\r\n\t\t\t\tid = art.target;\r\n\t\t\t}\r\n\t\t\telse return;\r\n\t\t\tvar old = articleList[id];\r\n\t\t\tif (!old || art.publish > old.publish) articleList[id] = art;\r\n\t\t});\r\n\t\tdata = Object.values(articleList);\r\n\t\tdata.sort((a, b) => b.publish - a.publish);\r\n\t\treturn data;\r\n\t},\r\n\tasync getColumnHeader (category) {\r\n\t\tcategory = totalDecodeURI(category);\r\n\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\tsources = sources || {};\r\n\t\tsources.update = sources.update || 0;\r\n\r\n\t\tvar info = Barn.DataGranary + '/';\r\n\t\tif (!!category) info = info + category + '/';\r\n\t\tinfo = info + 'info.md';\r\n\r\n\t\tvar data;\r\n\t\ttry {\r\n\t\t\tdata = await Barn.get(info, true, sources.update);\r\n\t\t\tdata = !!data ? data : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tdata = '';\r\n\t\t}\r\n\t\treturn data;\r\n\t},\r\n\tasync getArticle (filepath, timestamp=0) {\r\n\t\tfilepath = totalDecodeURI(filepath);\r\n\t\tif (timestamp <= 0) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tfilepath = Barn.DataGranary + '/' + filepath;\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, true, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch {\r\n\t\t\tcontent = '';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync getContent (filepath, notStill=true) {\r\n\t\tfilepath = totalDecodeURI(filepath);\r\n\t\tif (notStill) {\r\n\t\t\tvar sources = await Barn.get(Barn.API + '/sources.json', false);\r\n\t\t\tsources = sources || {};\r\n\t\t\ttimestamp = sources.update || 0;\r\n\t\t}\r\n\r\n\t\tvar content;\r\n\t\ttry {\r\n\t\t\tcontent = await Barn.get(filepath, notStill, timestamp);\r\n\t\t\tcontent = !!content ? content : '';\r\n\t\t}\r\n\t\tcatch (err) {\r\n\t\t\tcontent = '';\r\n\t\t}\r\n\t\treturn content;\r\n\t},\r\n\tasync clearAllCache () {\r\n\t\tsessionStorage.clear();\r\n\t\tvar tasks = [\r\n\t\t\tcaches.delete('schwarzschild'),\r\n\t\t\tBarn.clearAllCache()\r\n\t\t];\r\n\t\tawait Promise.all(tasks);\r\n\t},\r\n};\r\n\r\nBarn.init();","(async () => {\r\n\tif (!navigator.serviceWorker) return;\r\n\r\n\tconst channel = new BroadcastChannel('service-messages');\r\n\tchannel.addEventListener('message', msg => {\r\n\t\tconsole.log('CacheUpdated: ' + msg.data.url + ' (' + msg.data.timestamp + ')');\r\n\t});\r\n\r\n\tif (!!window.caches) {\r\n\t\tlet keys = await caches.keys();\r\n\t\tif (keys.length > 0) {\r\n\t\t\tkeys.forEach(async key => {\r\n\t\t\t\tvar cacheStorage = await caches.open(key);\r\n\t\t\t\tvar cacheKeys = await cacheStorage.keys();\r\n\t\t\t\tconsole.log(' ' + key + ': ' + cacheKeys.length);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet sws = await navigator.serviceWorker.getRegistrations();\r\n\t\tconsole.log('Service Worker: ' + sws.length);\r\n\t\tfor (let sw of sws) {\r\n\t\t\tif (!!sw.waiting) {\r\n\t\t\t\tconsole.log(' Service Worker');\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tmessage: \" Service Worker \",\r\n\t\t\t\t\tduration: 5000,\r\n\t\t\t\t\ttype: \"warn\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error(' Service ', err);\r\n\t}\r\n\r\n\ttry {\r\n\t\tlet reg = await navigator.serviceWorker.register('/priory.js');\r\n\t\treg.onupdatefound = (evt) => {\r\n\t\t\tevt.target.update();\r\n\t\t};\r\n\t\tconsole.log(' Service Worker ' + (!!reg ? '' : ''));\r\n\t}\r\n\tcatch (err) {\r\n\t\tconsole.error(' Service ', err);\r\n\t}\r\n}) ();","<template>\r\n\t<NavBar/>\r\n\t<loading />\r\n\t<Notification hAlign=\"right\" vAlign=\"top\" />\r\n\t<InfoBox />\r\n\t<ImageShowcase />\r\n\t<KeyManager />\r\n\t<div id=\"container\">\r\n\t\t<router-view/>\r\n\t</div>\r\n\t<div id=\"footnoteFrame\"></div>\r\n\t<TailBar />\r\n\t<div class=\"backer\" :show=\"overscroll\" @click=\"backTop\"><i class=\"fas fa-angle-up\"></i></div>\r\n\t<div ref=\"masker\" class=\"masker\" @click=\"onClick\"></div>\r\n</template>\r\n\r\n<script>\r\nconst chScroll = new BroadcastChannel('page-scroll');\r\nexport default {\r\n\tname: 'App',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\toverscroll: false\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tapp.onscroll = this.onScroll;\r\n\t},\r\n\tmethods: {\r\n\t\tonScroll () {\r\n\t\t\tif (app.scrollTop >= app.offsetHeight) {\r\n\t\t\t\tif (!this.overscroll) this.overscroll = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.overscroll) this.overscroll = false;\r\n\t\t\t}\r\n\t\t\tchScroll.postMessage({top: app.scrollTop, total: app.scrollHeight, height: app.offsetHeight});\r\n\t\t},\r\n\t\tonClick () {\r\n\t\t\tthis.$refs.masker.classList.remove('show');\r\n\t\t},\r\n\t\tbackTop () {\r\n\t\t\tapp.scrollBy({top: -app.scrollTop, behavior: 'smooth'});\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./App.vue?vue&type=template&id=1f0a9578\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"infobox-mask\" :show=\"show\"></div>\r\n\t<div class=\"infobox-frame scroller\" :show=\"show\">\r\n\t\t<div class=\"title\">{{title}}</div>\r\n\t\t<div ref=\"content\" class=\"content\"></div>\r\n\t\t<div class=\"inputter\" v-if=\"showInput\"><input ref=\"inputter\" type=\"text\" @keydown.esc=\"onClick('ok')\" @keydown.enter=\"onClick('cancel')\"></div>\r\n\t\t<div class=\"controller\">\r\n\t\t\t<div class=\"btn\" action=\"yes\" :hidden=\"!actYes\" @click=\"onClick('yes')\"></div>\r\n\t\t\t<div class=\"btn\" action=\"no\" :hidden=\"!actNo\" @click=\"onClick('no')\"></div>\r\n\t\t\t<div class=\"btn\" action=\"ok\" :hidden=\"!actOk\" @click=\"onClick('ok')\"></div>\r\n\t\t\t<div class=\"btn\" action=\"cancel\" :hidden=\"!actCancel\" @click=\"onClick('cancel')\"></div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nvar current, callback, responsor;\r\nwindow.showInfobox = async (option) => {\r\n\tif (!current) return;\r\n\treturn await current.showInfoBox(option);\r\n};\r\n\r\nexport default {\r\n\tname: \"InfoBox\",\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\ttitle: '',\r\n\t\t\tshowInput: false,\r\n\t\t\tactYes: false,\r\n\t\t\tactNo: false,\r\n\t\t\tactOk: false,\r\n\t\t\tactCancel: false,\r\n\t\t}\r\n\t},\r\n\tinstall (app) {\r\n\t\trequire('../assets/css/infobox.css');\r\n\t\tapp.component('InfoBox', this);\r\n\t},\r\n\tmounted () {\r\n\t\tcurrent = this;\r\n\t},\r\n\tmethods: {\r\n\t\tshowInfoBox (option) {\r\n\t\t\treturn new Promise(res => {\r\n\t\t\t\tif (this.show) return;\r\n\r\n\t\t\t\tif (String.is(option)) {\r\n\t\t\t\t\tthis.title = option;\r\n\t\t\t\t\tthis.actOk = true;\r\n\t\t\t\t\tthis.actYes = false;\r\n\t\t\t\t\tthis.actNo = false;\r\n\t\t\t\t\tthis.actCancel = false;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.title = option.title || '';\r\n\t\t\t\t\toption.mode = option.mode || '';\r\n\t\t\t\t\tthis.showInput = !!option.input;\r\n\t\t\t\t\tif (option.mode.toLowerCase() === 'html') {\r\n\t\t\t\t\t\tthis.$refs.content.innerHTML = option.content || '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.$refs.content.innerText = option.content || '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\toption.action = option.action.toLowerCase();\r\n\t\t\t\t\tthis.actYes = option.action.indexOf('y') >= 0;\r\n\t\t\t\t\tthis.actNo = option.action.indexOf('n') >= 0;\r\n\t\t\t\t\tthis.actOk = option.action.indexOf('o') >= 0;\r\n\t\t\t\t\tthis.actCancel = option.action.indexOf('c') >= 0;\r\n\t\t\t\t}\r\n\t\t\t\tif (!!responsor) {\r\n\t\t\t\t\tresponsor(null, null, this);\r\n\t\t\t\t}\r\n\t\t\t\tresponsor = res;\r\n\t\t\t\tif (!!callback) {\r\n\t\t\t\t\tcallback(null, null, this);\r\n\t\t\t\t}\r\n\t\t\t\tcallback = option.callback;\r\n\r\n\t\t\t\tthis.show = true;\r\n\t\t\t})\r\n\t\t},\r\n\t\tonClick (result) {\r\n\t\t\tif (result === 'yes' && !this.actYes) return;\r\n\t\t\tif (result === 'no' && !this.actNo) return;\r\n\t\t\tif (result === 'ok' && !this.actOk) return;\r\n\t\t\tif (result === 'cancel' && !this.actCancel) return;\r\n\r\n\t\t\tvar value = null;\r\n\t\t\tif (!!this.$refs.inputter) value = this.$refs.inputter.value;\r\n\t\t\tif (!!responsor) {\r\n\t\t\t\tresponsor(result, value || null, this);\r\n\t\t\t}\r\n\t\t\tresponsor = null;\r\n\t\t\tif (!!callback) {\r\n\t\t\t\tcallback(result, value || null, this);\r\n\t\t\t}\r\n\t\t\tcallback = null;\r\n\t\t\tthis.show = false;\r\n\t\t\tif (!!this.$refs.inputter) this.$refs.inputter.value = '';\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./infobox.vue?vue&type=template&id=4ba847ff\"\nimport script from \"./infobox.vue?vue&type=script&lang=js\"\nexport * from \"./infobox.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"KeyManager\" :show=\"show\" @click=\"close\">\r\n\t\t<div class=\"keyManagerFrame\">\r\n\t\t\t<div class=\"title\"></div>\r\n\t\t\t<div class=\"desc\"></div>\r\n\t\t\t<div class=\"keyListArea\">\r\n\t\t\t\t<div class=\"keyItem\" v-for=\"key in keyList\" :current=\"key.current\">\r\n\t\t\t\t\t<div class=\"keyContent\" @click=\"chooseKey(key.key)\">{{key.key}}</div>\r\n\t\t\t\t\t<div class=\"keyDeleter\" v-if=\"!!key.editable\" @click=\"removeKey(key.key, key.editable)\"><i class=\"fas fa-times\"></i></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"controlBox\">\r\n\t\t\t\t<input ref=\"keyInputter\" type=\"text\" @keydown=\"onEnter\">\r\n\t\t\t\t<button @click=\"appendKey\"></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst DefaultKey = \"ob5n5mojn0f6XgqSL1p/rIn9EiSOGUxFjpofSKb6PDc=\";\r\nif (!localStorage.CurrentKey) localStorage.CurrentKey = DefaultKey;\r\n\r\nvar current = null;\r\n(new BroadcastChannel('setting')).addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tif (data.action !== 'KeyManager') return;\r\n\tcurrent.update();\r\n\tcurrent.show = true;\r\n});\r\nexport default {\r\n\tname: 'KeyManager',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\tkeyList: []\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tcurrent = this;\r\n\t\tvar key = localStorage.getItem('CurrentKey');\r\n\t\tif (!key) localStorage.setItem('CurrentKey', DefaultKey);\r\n\t},\r\n\tmethods: {\r\n\t\tupdate () {\r\n\t\t\tvar currentKey = localStorage.getItem('CurrentKey');\r\n\t\t\tif (!currentKey) {\r\n\t\t\t\tlocalStorage.setItem('CurrentKey', DefaultKey);\r\n\t\t\t\tcurrentKey = DefaultKey;\r\n\t\t\t}\r\n\t\t\tthis.keyList.clear();\r\n\t\t\tthis.keyList.push({\r\n\t\t\t\tkey: DefaultKey,\r\n\t\t\t\teditable: false,\r\n\t\t\t\tcurrent: currentKey === DefaultKey\r\n\t\t\t});\r\n\t\t\tvar list = localStorage.get('keyList', []);\r\n\t\t\tif (list.length === 0) return;\r\n\t\t\tthis.keyList.push(...(list.map(l => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tkey: l,\r\n\t\t\t\t\teditable: true,\r\n\t\t\t\t\tcurrent: currentKey === l\r\n\t\t\t\t}\r\n\t\t\t})));\r\n\t\t},\r\n\t\tclose (evt) {\r\n\t\t\tif (evt.target === this.$el) this.show = false;\r\n\t\t},\r\n\t\tchooseKey (key) {\r\n\t\t\tlocalStorage.setItem('CurrentKey', key);\r\n\t\t\tthis.keyList.forEach(item => item.current = item.key === key);\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveKey (key, editable) {\r\n\t\t\tif (!editable) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"\"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!key) return;\r\n\t\t\tvar index = -1;\r\n\t\t\tthis.keyList.some((item, i) => {\r\n\t\t\t\tif (item.key !== key) return;\r\n\t\t\t\tindex = i;\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\t\t\tif (index < 0) return;\r\n\r\n\t\t\tthis.keyList.splice(index, 1);\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"\" + key\r\n\t\t\t});\r\n\r\n\t\t\tvar list = this.keyList.map(item => item.key);\r\n\t\t\tlist.splice(0, 1); // \r\n\t\t\tlocalStorage.set('keyList', list);\r\n\t\t},\r\n\t\tappendKey () {\r\n\t\t\tvar key = this.$refs.keyInputter.value;\r\n\t\t\tif (!key) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"\"\r\n\t\t\t\t});\r\n\t\t\t\tthis.$refs.keyInputter.focus();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.keyList.push({ key, editable: true, current: false });\r\n\t\t\tthis.$refs.keyInputter.value = '';\r\n\t\t\tnotify({\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"\" + key\r\n\t\t\t});\r\n\r\n\t\t\tvar list = this.keyList.map(item => item.key);\r\n\t\t\tlist.splice(0, 1); // \r\n\t\t\tlocalStorage.set('keyList', list);\r\n\t\t},\r\n\t\tonEnter (evt) {\r\n\t\t\tif (evt.keyCode === 13) {\r\n\t\t\t\tthis.appendKey();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./keyManager.vue?vue&type=template&id=2ef6b8fc\"\nimport script from \"./keyManager.vue?vue&type=script&lang=js\"\nexport * from \"./keyManager.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// IndexDB Wrapper\r\n(() => {\r\n\tclass CachedDB {\r\n\t\tconstructor (name, version) {\r\n\t\t\tthis._name = name;\r\n\t\t\tthis._version = version;\r\n\t\t\tthis.conn = null;\r\n\t\t\tthis.db = null;\r\n\t\t\tthis.cbUpdates = [];\r\n\t\t\tthis.cbConnects = [];\r\n\t\t\tthis.caches = {};\r\n\t\t}\r\n\t\tconnect () {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tthis.conn = indexedDB.open(this.name, this.version);\r\n\t\t\t\tthis.conn.onupgradeneeded = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbUpdates.forEach(cb => cb(this));\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onsuccess = evt => {\r\n\t\t\t\t\tthis.db = this.conn.result;\r\n\t\t\t\t\tthis.cbConnects.forEach(cb => cb(this));\r\n\t\t\t\t\tres(this);\r\n\t\t\t\t};\r\n\t\t\t\tthis.conn.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tonConnect (cb) {\r\n\t\t\tthis.cbConnects.push(cb);\r\n\t\t}\r\n\t\tonUpdate (cb) {\r\n\t\t\tthis.cbUpdates.push(cb);\r\n\t\t}\r\n\t\topen (name, keyPath='id', cacheSize=100) {\r\n\t\t\tif (!this.db.objectStoreNames.contains(name)) {\r\n\t\t\t\tlet store = this.db.createObjectStore(name, { keyPath });\r\n\t\t\t\tstore.createIndex(keyPath, keyPath, { unique: true });\r\n\t\t\t}\r\n\t\t}\r\n\t\tcache (name, size) {\r\n\t\t\tif (!this.caches[name]) {\r\n\t\t\t\tthis.caches[name] = new LRUCache(size);\r\n\t\t\t}\r\n\t\t}\r\n\t\tset (store, key, value) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar item = {};\r\n\t\t\t\titem[cache.keyPath] = key;\r\n\t\t\t\titem.data = value;\r\n\t\t\t\tvar result = cache.put(item);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.set(key, value);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tget (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar ufc = this.caches[store], result;\r\n\t\t\t\tif (!!ufc) {\r\n\t\t\t\t\tresult = ufc.get(key);\r\n\t\t\t\t\tif (result !== undefined) return res(result);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = index.get(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tif (!evt.target.result) res(undefined);\r\n\t\t\t\t\telse res(evt.target.result.data);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tall (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readonly\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\t\t\t\tvar index = cache.index(cache.keyPath);\r\n\r\n\t\t\t\tvar result = index.getAll();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar list = evt.target.result;\r\n\t\t\t\t\tif (!list) return res(list);\r\n\t\t\t\t\tvar result = {};\r\n\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\tresult[item[cache.keyPath]] = item.data\r\n\t\t\t\t\t});\r\n\t\t\t\t\tres(result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tdel (store, key) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.delete(key);\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.del(key);\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclear (store) {\r\n\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\tvar tx = this.db.transaction([store], \"readwrite\");\r\n\t\t\t\tif (!tx) rej(new Error('Open IndexedDB Transaction Failed: ' + store));\r\n\t\t\t\tvar cache = tx.objectStore(store);\r\n\t\t\t\tif (!store) rej(new Error('Open IndexedDB ObjectStore Failed: ' + store));\r\n\r\n\t\t\t\tvar result = cache.clear();\r\n\t\t\t\tresult.onsuccess = evt => {\r\n\t\t\t\t\tvar ufc = this.caches[store];\r\n\t\t\t\t\tif (!!ufc) ufc.clear();\r\n\t\t\t\t\tres(evt.result);\r\n\t\t\t\t};\r\n\t\t\t\tresult.onerror = err => {\r\n\t\t\t\t\trej(err);\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t\tclearCache (store) {\r\n\t\t\tvar ufc = this.caches[store];\r\n\t\t\tif (!ufc) return;\r\n\t\t\tufc.clear();\r\n\t\t}\r\n\r\n\t\tget name () {\r\n\t\t\treturn this._name;\r\n\t\t}\r\n\t\tget version () {\r\n\t\t\treturn this._version;\r\n\t\t}\r\n\t}\r\n\r\n\twindow.CachedDB = CachedDB;\r\n}) ();","import './assets/js/core.js';\r\nimport './assets/js/cacheCenter.js';\r\nimport './assets/js/lrucache.js';\r\nimport './assets/js/cacheDB.js';\r\nimport './assets/js/granary.js';\r\nimport './assets/js/markup.js';\r\nimport './assets/js/markup-footnote.js';\r\nimport './assets/js/imageWall.js';\r\n\r\nimport { createApp, inject } from 'vue';\r\nimport axios from 'axios';\r\n\r\nimport App from './App.vue';\r\nimport router from './router';\r\n\r\nimport Loading from '@/components/loading.vue';\r\nimport Notification from '@/components/notification.vue';\r\nimport InfoBox from '@/components/infobox.vue';\r\nimport NavBar from '@/components/navbar.vue';\r\nimport NavMenuBar from '@/components/navmenubar.vue';\r\nimport NavMenuItem from '@/components/navmenuitem.vue';\r\nimport TailBar from '@/components/tail.vue';\r\nimport KeyManager from '@/components/keyManager.vue';\r\nimport ImageShowcase from '@/components/imageShowcase.vue';\r\nimport Crumb from '@/components/crumb.vue';\r\nimport Column from '@/components/column.vue';\r\n\r\nrequire('./assets/css/theme.css');\r\nrequire('./assets/css/mobile.css');\r\nrequire('./assets/css/main.css');\r\nrequire('./assets/css/404.css');\r\nrequire('./assets/css/navbar.css');\r\nrequire('./assets/css/tail.css');\r\nrequire('./assets/css/crumb.css');\r\nrequire('./assets/css/column.css');\r\nrequire('./assets/css/keyManager.css');\r\nrequire('./assets/css/markup.css');\r\nrequire('./assets/css/article.css');\r\n\r\nglobal.axios = axios;\r\nglobal.memoryMode = 3;\r\n\r\nif (Devices.isMobile) document.body.classList.add('mobile');\r\nelse document.body.classList.add('notmobile');\r\n\r\n(async () => {\r\n\tif (await LifeCycle.emit.loaded()) {\r\n\t\tawait InitAsimov();\r\n\r\n\t\tconst app = createApp(App);\r\n\t\tapp.config.globalProperties.SiteName = \"\";\r\n\t\tapp.config.globalProperties.SiteOwner = \"LostAbaddon\";\r\n\t\tapp.config.globalProperties.LikeCoin = null;\r\n\r\n\t\tapp.use(Notification);\r\n\t\tapp.use(InfoBox);\r\n\t\tapp.component('Loading', Loading);\r\n\t\tapp.component('NavBar', NavBar);\r\n\t\tapp.component('NavMenuBar', NavMenuBar);\r\n\t\tapp.component('NavMenuItem', NavMenuItem);\r\n\t\tapp.component('TailBar', TailBar);\r\n\t\tapp.component('KeyManager', KeyManager);\r\n\t\tapp.component('ImageShowcase', ImageShowcase);\r\n\t\tapp.component('Crumb', Crumb);\r\n\t\tapp.component('Column', Column);\r\n\r\n\t\tif (await LifeCycle.emit.ready(app)) {\r\n\t\t\tapp.use(router).mount('#app');\r\n\t\t\trouter.app = app;\r\n\r\n\t\t\tawait LifeCycle.emit.initialized(app);\r\n\r\n\t\t\tlet updateTarget = sessionStorage.getItem('sourceUpdated');\r\n\t\t\tif (!!updateTarget) {\r\n\t\t\t\tsessionStorage.removeItem('sourceUpdated');\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tmessage: updateTarget + \" \\n\",\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\ttype: \"success\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}) ();","(() => {\r\n\tvar NoteFrame, lastUI;\r\n\r\n\tconst onEnter = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tvar name = ele.getAttribute('href');\r\n\t\tif (!name || name.substr(0, 1) !== '#') return;\r\n\t\tname = name.substring(1, name.length);\r\n\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\tif (!info) return;\r\n\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\tvar html = '';\r\n\r\n\t\tif (cn === 'terminology') {\r\n\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t}\r\n\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\tNoteFrame.innerHTML = html;\r\n\t\tNoteFrame._status = 1;\r\n\r\n\t\tvar rect = ele.getBoundingClientRect();\r\n\t\tvar isTop = true, isLeft = true;\r\n\t\tvar left = rect.left - 10;\r\n\t\tvar top = rect.top + rect.height + 10;\r\n\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\tisLeft = false;\r\n\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t}\r\n\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\tisTop = false;\r\n\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t}\r\n\r\n\t\tif (isLeft) {\r\n\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\tNoteFrame.style.right = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.left = '';\r\n\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t}\r\n\t\tif (isTop) {\r\n\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\tNoteFrame.style.bottom = '';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tNoteFrame.style.top = '';\r\n\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t}\r\n\t\tNoteFrame.style.display = 'block';\r\n\t\tawait wait(50);\r\n\t\tNoteFrame.style.opacity = '1';\r\n\t\tNoteFrame._status = 2;\r\n\t};\r\n\tconst onLeave = async (evt) => {\r\n\t\tNoteFrame.style.opacity = '0';\r\n\t\tawait wait(200);\r\n\t\tif (NoteFrame._status === 2) {\r\n\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\tNoteFrame._status = 0;\r\n\t\t}\r\n\t};\r\n\tconst onTransit = async (evt) => {\r\n\t\tvar ele = evt.target, cn = ele.className;\r\n\t\tif (cn === 'notemark' || cn ==='terminology') {\r\n\t\t\tvar css = ele.computedStyleMap();\r\n\t\t\tcss = css.get('text-decoration').toString();\r\n\t\t\tvar enter = false;\r\n\t\t\tif (css.indexOf('underline') >= 0) enter = true;\r\n\r\n\t\t\tif (enter) {\r\n\t\t\t\tvar name = ele.getAttribute('href');\r\n\t\t\t\tif (name.substr(0, 1) !== '#') return;\r\n\t\t\t\tname = name.substring(1, name.length);\r\n\t\t\t\tvar info = lastUI.querySelector('a[name=\"' + name + '\"]');\r\n\t\t\t\tif (!info) return;\r\n\t\t\t\tvar content = info.parentElement.innerHTML.replace(info.outerHTML, '');\r\n\t\t\t\tvar html = '';\r\n\r\n\t\t\t\tif (cn === 'terminology') {\r\n\t\t\t\t\thtml = '<p class=\"note-title\">' + ele.innerText + '</p>';\r\n\t\t\t\t}\r\n\t\t\t\thtml += '<p class=\"note-content\">' + content + '</p>';\r\n\t\t\t\tNoteFrame.innerHTML = html;\r\n\t\t\t\tNoteFrame._status = 1;\r\n\r\n\t\t\t\tvar rect = ele.getBoundingClientRect();\r\n\t\t\t\tvar isTop = true, isLeft = true;\r\n\t\t\t\tvar left = rect.left - 10;\r\n\t\t\t\tvar top = rect.top + rect.height + 10;\r\n\t\t\t\tif (left > window.innerWidth * 0.6) {\r\n\t\t\t\t\tisLeft = false;\r\n\t\t\t\t\tleft = window.innerWidth - rect.right;\r\n\t\t\t\t}\r\n\t\t\t\tif (top > window.innerHeight * 0.7) {\r\n\t\t\t\t\tisTop = false;\r\n\t\t\t\t\ttop = window.innerHeight - rect.top;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isLeft) {\r\n\t\t\t\t\tNoteFrame.style.left = left + 'px';\r\n\t\t\t\t\tNoteFrame.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.left = '';\r\n\t\t\t\t\tNoteFrame.style.right = left + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tif (isTop) {\r\n\t\t\t\t\tNoteFrame.style.top = top + 'px';\r\n\t\t\t\t\tNoteFrame.style.bottom = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tNoteFrame.style.top = '';\r\n\t\t\t\t\tNoteFrame.style.bottom = top + 'px';\r\n\t\t\t\t}\r\n\t\t\t\tNoteFrame.style.display = 'block';\r\n\t\t\t\tawait wait(50);\r\n\t\t\t\tNoteFrame.style.opacity = '1';\r\n\t\t\t\tNoteFrame._status = 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tNoteFrame.style.opacity = '0';\r\n\t\t\t\tawait wait(200);\r\n\t\t\t\tif (NoteFrame._status === 2) {\r\n\t\t\t\t\tNoteFrame.style.display = 'none';\r\n\t\t\t\t\tNoteFrame._status = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst initUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!!inited) return;\r\n\t\t\tele.addEventListener('mouseleave', onLeave);\r\n\t\t\tele.addEventListener('mouseenter', onEnter);\r\n\t\t\tele.setAttribute('footnote_inited', true)\r\n\t\t});\r\n\t};\r\n\tconst deactiveUI = (UI, query) => {\r\n\t\tif (!!Devices.isMobile) return;\r\n\t\tUI.querySelectorAll(query).forEach(ele => {\r\n\t\t\tvar inited = ele.getAttribute('footnote_inited');\r\n\t\t\tif (!inited) return;\r\n\t\t\tele.removeEventListener('mouseleave', onLeave);\r\n\t\t\tele.removeEventListener('mouseenter', onEnter);\r\n\t\t\tele.removeAttribute('footnote_inited')\r\n\t\t});\r\n\t};\r\n\r\n\twindow.InitNotes = UI => {\r\n\t\tNoteFrame = document.querySelector('#footnoteFrame');\r\n\t\tNoteFrame._status = NoteFrame._status || 0;\r\n\t\tif (lastUI !== UI && !!lastUI) destructe();\r\n\t\tlastUI = UI;\r\n\r\n\t\tvar inited = UI.getAttribute('footnoted');\r\n\t\tif (!inited) {\r\n\t\t\tUI.setAttribute('footnoted', true);\r\n\t\t\tUI.addEventListener('transitionstart', onTransit);\r\n\t\t}\r\n\r\n\t\tinitUI(UI, 'a.notemark');\r\n\t\tinitUI(UI, 'a.terminology');\r\n\t};\r\n\twindow.destructe = () => {\r\n\t\tlastUI.removeEventListener('transitionstart', onTransit);\r\n\t\tdeactiveUI(UI, 'a.notemark');\r\n\t\tdeactiveUI(UI, 'a.terminology');\r\n\t};\r\n\r\n\t// \r\n\tconst findTableCol = (target) => {\r\n\t\tvar table, col, notdone = true;\r\n\t\tif ((target.tagName + '').match(/th/i)) {\r\n\t\t\tif (target.getAttribute('sortable') === 'true') {\r\n\t\t\t\tcol = target;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn [null, null];\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcol = target;\r\n\t\t\twhile (notdone) {\r\n\t\t\t\tcol = col.parentNode;\r\n\t\t\t\tif (!col) return [null, null];\r\n\t\t\t\tif ((col.tagName + '').match(/th/i)) {\r\n\t\t\t\t\tif (col.getAttribute('sortable') === 'true') {\r\n\t\t\t\t\t\tnotdone = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn [null, null];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\ttable = col.parentNode;\r\n\t\tif (table.tagName.match(/table/i)) {\r\n\t\t\treturn [table, col];\r\n\t\t}\r\n\t\tnotdone = true;\r\n\t\twhile (notdone) {\r\n\t\t\ttable = table.parentNode;\r\n\t\t\tif (!table) return [null, null];\r\n\t\t\tif (table.tagName.match(/table/i)) {\r\n\t\t\t\tnotdone = false;\r\n\t\t\t\treturn [table, col];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [null, null];\r\n\t}\r\n\tdocument.body.addEventListener('click', (evt) => {\r\n\t\tvar [table, col] = findTableCol(evt.target);\r\n\t\tif (!table || !col) return;\r\n\r\n\t\tvar index = -1;\r\n\t\t[].some.call(col.parentNode.children, (ele, i) => {\r\n\t\t\tif (ele === col) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (index < 0) return;\r\n\r\n\t\tvar dir = col.getAttribute('sortdir');\r\n\t\tif (dir !== 'down') dir = 'down';\r\n\t\telse dir = 'up';\r\n\r\n\t\t[].forEach.call(col.parentNode.querySelectorAll('th'), item => {\r\n\t\t\tif (item !== col) {\r\n\t\t\t\titem.removeAttribute('sortdir');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\titem.setAttribute('sortdir', dir);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar rows = [].map.call(table.querySelectorAll('tbody > tr'), ele => ele);\r\n\t\trows = rows.map((row, i) => {\r\n\t\t\tvar td = ([].map.call(row.querySelectorAll('td'), ele => ele))[index];\r\n\t\t\tvar value = td.innerText * 1;\r\n\t\t\tif (isNaN(value)) value = 0;\r\n\t\t\treturn [i, value, row];\r\n\t\t});\r\n\t\trows.sort((ra, rb) => {\r\n\t\t\tif (dir === 'up') return rb[1] - ra[1];\r\n\t\t\telse return ra[1] - rb[1];\r\n\t\t});\r\n\t\trows.forEach(([i, value, row]) => {\r\n\t\t\tvar parent = row.parentNode;\r\n\t\t\tparent.appendChild(row);\r\n\t\t});\r\n\t});\r\n\r\n\t// \r\n\tvar BarHeight = 25;\r\n\tvar BarSpan = 5;\r\n\tvar BarRightMargin = 50;\r\n\tvar BarColorList = [\r\n\t\t'rgb(222, 28, 49)',\r\n\t\t'rgb(152, 54, 128)',\r\n\t\t'rgb(15, 89, 164)',\r\n\t\t'rgb(18, 161, 130)',\r\n\t\t'rgb(254, 215, 26)'\r\n\t];\r\n\tconst animateChart = (chart) => {\r\n\t\tif (chart._index >= chart._limit) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar data = chart._data[chart._index].copy();\r\n\t\tvar hint = data.splice(0, 1)[0];\r\n\t\tif (!!chart._hint) {\r\n\t\t\tchart._titleHint.innerText = '(' + chart._hint + ': ' + hint + ')';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tchart._titleHint.innerText = '(' + hint + ')';\r\n\t\t}\r\n\r\n\t\tvar head = [], tail = [];\r\n\t\tdata.forEach((d, i) => {\r\n\t\t\tif (Number.is(d)) head.push([i + 1, d]);\r\n\t\t\telse tail.push([i + 1, d]);\r\n\t\t});\r\n\t\thead.sort((a, b) => b[1] - a[1]);\r\n\t\tif (head.length > chart._count) {\r\n\t\t\ttail.unshift(...(head.splice(chart._count, head.length)));\r\n\t\t}\r\n\t\tvar max = 0;\r\n\t\thead.forEach(item => {\r\n\t\t\tvar v = item[1];\r\n\t\t\tif (v > max) max = v;\r\n\t\t});\r\n\t\thead.forEach((item, i) => {\r\n\t\t\tvar ele = chart._bars[item[0]], value = Math.max(0, item[1]), color = BarColorList[i];\r\n\t\t\tif (!color) color = BarColorList.last;\r\n\t\t\tele.style.top = (i * (BarHeight + BarSpan) + BarSpan) + 'px';\r\n\t\t\tele.style.width = Math.round(chart._panelWidth * value / max) + 'px';\r\n\t\t\tele.style.backgroundColor = color;\r\n\t\t\tele._value.innerText = item[1];\r\n\t\t});\r\n\t\ttail.forEach(item => {\r\n\t\t\tvar ele = chart._bars[item[0]], value = Math.max(0, item[1]);\r\n\t\t\tele.style.top = (chart._count * (BarHeight + BarSpan) + BarSpan * 2) + 'px';\r\n\t\t\tele.style.width = Math.round(chart._panelWidth * value / max) + 'px';\r\n\t\t\tele.style.backgroundColor = BarColorList.last;\r\n\t\t\tele._value.innerText = item[1];\r\n\t\t});\r\n\r\n\t\tchart._index ++;\r\n\t\tif (chart._index < chart._limit) {\r\n\t\t\tsetTimeout(animateChart, chart._duration, chart);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (!!chart._replay) {\r\n\t\t\t\tchart._replay.style.opacity = 1;\r\n\t\t\t\tchart._replay.style.pointerEvents = 'auto';\r\n\t\t\t}\r\n\t\t\telse if (chart._repeat > 0) {\r\n\t\t\t\tchart._index = 0;\r\n\t\t\t\tsetTimeout(animateChart, chart._repeat, chart);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\twindow.initTableAnimationChart = () => {\r\n\t\t[].forEach.call(document.querySelectorAll('div.animate-chart'), chart => {\r\n\t\t\tchart._duration = chart.getAttribute('duration') * 1;\r\n\t\t\tif (isNaN(chart._duration)) chart._duration = 1000;\r\n\t\t\tchart._repeat = chart.getAttribute('repeatwait') * 1;\r\n\t\t\tif (isNaN(chart._repeat)) chart._repeat = -1;\r\n\t\t\tchart._count = chart.getAttribute('barcount') * 1;\r\n\t\t\tif (isNaN(chart._count)) chart._count = 3;\r\n\t\t\tchart._hint = (chart.getAttribute('hint') || '').trim();\r\n\r\n\t\t\tchart._data = chart.querySelector('.animate-chart-data');\r\n\t\t\tif (!chart._data) {\r\n\t\t\t\tchart.parentNode.removeChild(chart);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tchart._data = chart._data.innerText;\r\n\t\t\tif (!chart._data) {\r\n\t\t\t\tchart.parentNode.removeChild(chart);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tchart._data = JSON.parse(chart._data);\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\tchart.parentNode.removeChild(chart);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar marginLeft = 0;\r\n\t\t\tchart._titleHint = chart.querySelector('.animate-chart-title-hint');\r\n\t\t\tchart._panel = chart.querySelector('.animate-chart-panel');\r\n\t\t\tchart._bars = [].map.call(chart._panel.querySelectorAll('.animate-chart-bar'), bar => {\r\n\t\t\t\tbar._value = bar.querySelector('.animate-chart-bar-value');\r\n\t\t\t\tvar title = bar.querySelector('.animate-chart-bar-title');\r\n\t\t\t\tif (!!title) {\r\n\t\t\t\t\tlet w = Math.ceil(title.getBoundingClientRect().width) + 10;\r\n\t\t\t\t\tif (w > marginLeft) marginLeft = w;\r\n\t\t\t\t}\r\n\t\t\t\treturn bar;\r\n\t\t\t});\r\n\t\t\tchart._bars.unshift(null);\r\n\t\t\tchart._replay = chart.querySelector('.animate-chart-replay');\r\n\t\t\tif (!!chart._replay) {\r\n\t\t\t\tchart._replay.addEventListener('click', () => {\r\n\t\t\t\t\tchart._replay.style.opacity = 0;\r\n\t\t\t\t\tchart._replay.style.pointerEvents = 'none';\r\n\t\t\t\t\tchart._index = 0;\r\n\t\t\t\t\tanimateChart(chart);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tchart._panel.style.height = Math.max(0, chart._count * (BarHeight + BarSpan) + BarSpan) + 'px';\r\n\t\t\tchart._panelWidth = chart._panel.getBoundingClientRect().width - marginLeft - BarRightMargin;\r\n\t\t\tchart._bars.forEach(bar => {\r\n\t\t\t\tif (!bar) return;\r\n\t\t\t\tbar.style.left = marginLeft + 'px';\r\n\t\t\t});\r\n\t\t\tchart._index = 0;\r\n\t\t\tchart._limit = chart._data.length;\r\n\t\t\tanimateChart(chart);\r\n\t\t});\r\n\t};\r\n}) ();","<template>\r\n\t<div class=\"notifaction-frame\" :horizontal=\"hAlign\" :vertial=\"vAlign\" @click=\"onClick\"></div>\r\n</template>\r\n\r\n<script>\r\nvar current;\r\nconst chMessage = new BroadcastChannel('show-notification');\r\nchMessage.addEventListener('message', evt => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(evt.data);\r\n});\r\nwindow.notify = msg => {\r\n\tif (!current) return;\r\n\tcurrent.showMessage(msg);\r\n};\r\n\r\nexport default {\r\n\tname: \"Notification\",\r\n\tprops: {\r\n\t\t\"hAlign\": String,\r\n\t\t\"vAlign\": String\r\n\t},\r\n\tinstall (app) {\r\n\t\trequire('../assets/css/notification.css');\r\n\t\tapp.component('Notification', this);\r\n\t},\r\n\tmounted () {\r\n\t\tcurrent = this;\r\n\t},\r\n\tmethods: {\r\n\t\tasync showMessage (msg) {\r\n\t\t\tvar duration = msg.duration || 3000;\r\n\t\t\tvar key = Math.floor(10000000000 * Math.random());\r\n\t\t\tmsg.key = key;\r\n\r\n\t\t\tmsg.ele = this.newMsg(msg);\r\n\t\t\tmsg.ele.exit = async () => {\r\n\t\t\t\tif (!!msg.timer) clearTimeout(msg.timer);\r\n\t\t\t\tdelete msg.timer;\r\n\r\n\t\t\t\tmsg.ele.classList.remove('show');\r\n\t\t\t\tawait wait(300);\r\n\t\t\t\tthis.$el.removeChild(msg.ele);\r\n\r\n\t\t\t\tdelete msg.ele.exit;\r\n\t\t\t\tdelete msg.ele;\r\n\t\t\t};\r\n\t\t\tthis.$el.appendChild(msg.ele);\r\n\t\t\tawait wait();\r\n\t\t\tmsg.ele.classList.add('show');\r\n\r\n\t\t\tmsg.timer = setTimeout(msg.ele.exit, duration);\r\n\t\t},\r\n\t\tnewMsg (msg) {\r\n\t\t\tvar ele = document.createElement('section');\r\n\t\t\tele.setAttribute('key', msg.key);\r\n\t\t\tele.setAttribute('type', msg.type || 'default');\r\n\t\t\tif (!!msg.title) {\r\n\t\t\t\tlet header = document.createElement('header');\r\n\t\t\t\theader.innerText = msg.title;\r\n\t\t\t\tele.appendChild(header);\r\n\t\t\t}\r\n\t\t\tif (!!msg.message) {\r\n\t\t\t\tlet article = document.createElement('article');\r\n\t\t\t\tarticle.innerText = msg.message;\r\n\t\t\t\tele.appendChild(article);\r\n\t\t\t}\r\n\t\t\treturn ele;\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = evt.target;\r\n\t\t\tif (!ele) return;\r\n\t\t\tif (!ele.exit) return;\r\n\t\t\tele.exit();\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./notification.vue?vue&type=template&id=5b7cf86e\"\nimport script from \"./notification.vue?vue&type=script&lang=js\"\nexport * from \"./notification.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"crumb\" v-if=\"show\">\r\n\t\t<span class=\"hint\"></span>\r\n\t\t<template v-for=\"(item, index) in path\">\r\n\t\t\t<span @click=\"jump(item.path, item.query)\">{{item.name}}</span><i class=\"fas fa-angle-right\" />\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nvar currCrumb = null;\r\nconst channel = new BroadcastChannel('page-changed');\r\nchannel.addEventListener('message', msg => {\r\n\tif (!currCrumb) return;\r\n\tcurrCrumb.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Crumb',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: true,\r\n\t\t\tpath: []\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\ttarget: String\r\n\t},\r\n\tmethods: {\r\n\t\tjump (path, query) {\r\n\t\t\tquery = Proxy.toObject(query);\r\n\t\t\tvar target = {path, query};\r\n\t\t\tthis.$router.push(target);\r\n\t\t\tif (path === this.$route.path) channel.postMessage(target);\r\n\t\t},\r\n\t\tupdate () {\r\n\t\t\tvar path = null, type = '';\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tpath = null;\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.c).split(',').filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'viewer';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/view') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.f) {\r\n\t\t\t\t\tpath = decodeURIComponent(this.$route.query.f).split('/');\r\n\t\t\t\t\tpath.pop();\r\n\t\t\t\t\tpath = path.filter(c => c.length > 0);\r\n\t\t\t\t\ttype = 'view';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet fullpath = this.target || this.$route.path;\r\n\t\t\t\tpath = fullpath.split('/').filter(c => c.length > 0);\r\n\t\t\t\ttype = 'view';\r\n\t\t\t}\r\n\t\t\tif (!path) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.path.splice(0, this.path.length);\r\n\t\t\tif (type === 'viewer' || type === 'page') path.pop();\r\n\r\n\t\t\tthis.path.push(...(getPathNameList(path)));\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tthis.update();\r\n\t\tcurrCrumb = this;\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrCrumb = null;\r\n\t}\r\n}\r\n</script>","import { render } from \"./crumb.vue?vue&type=template&id=4d449e52\"\nimport script from \"./crumb.vue?vue&type=script&lang=js\"\nexport * from \"./crumb.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","localStorage.__proto__.get = (key, def={}) => {\r\n\tvar item = localStorage.getItem(key);\r\n\tif (!item) return def;\r\n\ttry {\r\n\t\titem = JSON.parse(item);\r\n\t}\r\n\tcatch {\r\n\t\treturn def;\r\n\t}\r\n\treturn item;\r\n};\r\nlocalStorage.__proto__.set = (key, value) => {\r\n\tvalue = JSON.stringify(value);\r\n\tlocalStorage.setItem(key, value);\r\n};\r\n\r\nwindow.loadJS = (filepath) => new Promise(res => {\r\n\tvar js = document.createElement('script');\r\n\tjs.type = 'text/javascript';\r\n\tjs.src = filepath;\r\n\tjs.onload = res;\r\n\tjs.onerror = res;\r\n\tdocument.body.appendChild(js);\r\n});\r\nwindow.loadCSS = (filepath) => new Promise(res => {\r\n\tvar css = document.createElement('link');\r\n\tcss.type = 'text/css';\r\n\tcss.rel = 'stylesheet';\r\n\tcss.href = filepath;\r\n\tcss.onload = res;\r\n\tcss.onerror = res;\r\n\tdocument.body.appendChild(css);\r\n});\r\n\r\nwindow.utf8tobase64 = str => window.btoa(window.unescape(window.encodeURIComponent(str)));\r\nwindow.base64toutf8 = str => window.decodeURIComponent(window.escape(window.atob(str)));\r\nwindow.base64tobuffer = str => {\r\n\tvar dec = window.escape(window.atob(str)), len = dec.length, result = [];\r\n\tfor (let i = 0; i < len; i ++) {\r\n\t\tlet s = dec.substr(i, 1);\r\n\t\tif (s === '%') {\r\n\t\t\ts = dec.substr(i + 1, 2);\r\n\t\t\ttry {\r\n\t\t\t\ts = parseInt(s, 16);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tconsole.error(\" base64 \", err);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tresult.push(s);\r\n\t\t\ti += 2;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tresult.push(s.charCodeAt(0));\r\n\t\t}\r\n\t}\r\n\tresult = new Uint8Array(result);\r\n\treturn result;\r\n};\r\n\r\nwindow.findContentWrapper = ele => {\r\n\tif (!ele) return ele;\r\n\twhile (true) {\r\n\t\tlet tag = (ele.nodeName || '').toLowerCase();\r\n\t\tif (['span', 'font', 'sup', 'sub', 'i', 'u', 'b', 'del', 'em', 'strong', 'code'].includes(tag)) ele = ele.parentElement;\r\n\t\telse return ele;\r\n\t}\r\n};\r\nwindow.onVueHyperLinkTriggered = (vue, evt) => {\r\n\tvar ele = findContentWrapper(evt.target);\r\n\tif ((ele.nodeName || '').toLowerCase() !== 'a') return false;\r\n\r\n\tvar path = ele.getAttribute('href');\r\n\tif (!path) return false;\r\n\r\n\tif (path.indexOf('#/') === 0) {\r\n\t\tpath = path.replace(/^#+[\\\\\\/]+/, '');\r\n\t\tpath = path.split(/[\\\\\\/]+/);\r\n\t\tpath = { path: '/category', query: {c: path.join(',')} };\r\n\t}\r\n\telse if (path.indexOf('#') === 0) {\r\n\t\tpath = path.replace(/^#+/, '');\r\n\t\tlet target = document.querySelector('[name=\"' + path + '\"]');\r\n\t\tif (!!target) {\r\n\t\t\tlet app = document.body.querySelector('#app');\r\n\t\t\tif (!!app) {\r\n\t\t\t\tlet offset = (target.offsetTop || 0) - app.scrollTop;\r\n\t\t\t\tif (!Devices.isMobile) offset -= 25; //  NavBar \r\n\t\t\t\tapp.scrollBy({top: offset, behavior: 'smooth'});\r\n\t\t\t}\r\n\t\t}\r\n\t\tevt.preventDefault();\r\n\t\treturn true;\r\n\t}\r\n\telse if (path.indexOf('/page/#/') === 0) {\r\n\t\tpath = path.replace(/^[\\\\\\/]+page[\\\\\\/]+#+[\\\\\\/]+/, '/');\r\n\t\tpath = { path };\r\n\t}\r\n\telse if (path.indexOf('/page/') === 0) {\r\n\t\tpath = path.replace('/page/', '/');\r\n\t\tpath = {path};\r\n\t}\r\n\telse if (path.indexOf('/article/') === 0) {\r\n\t\tpath = path.replace('/article/', '');\r\n\t\tpath = encodeURIComponent(path);\r\n\t\tpath = {path: '/view', query: {f: path}};\r\n\t}\r\n\telse {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tevt.preventDefault();\r\n\tvar originPath = location.hash.replace(/^#+/, '').split('?')[0];\r\n\tvue.$router.push(path);\r\n\tif (path.path === originPath) {\r\n\t\tlet channel = new BroadcastChannel('page-changed');\r\n\t\tchannel.postMessage(path);\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\nwindow.afterMarkUp = async (target) => {\r\n\tif (!target) {\r\n\t\ttarget = document.body.querySelector('article.markup-content');\r\n\t\tif (!target) target = document.body.querySelector('#container');\r\n\t}\r\n\t// \r\n\tInitNotes(document.body.querySelector('#container'));\r\n\tif (afterMarkUp.FootNoteUnInited) {\r\n\t\tafterMarkUp.FootNoteUnInited = false;\r\n\t\tMathJax.Hub.Config({\r\n\t\t\textensions: [\"tex2jax.js\"],\r\n\t\t\tTeX: {\r\n\t\t\t\textensions: [\"AMSmath.js\", \"AMSsymbols.js\"]\r\n\t\t\t},\r\n\t\t\tjax: [\"input/TeX\", \"output/HTML-CSS\"],\r\n\t\t\ttex2jax: {\r\n\t\t\t\tinlineMath: [[\"$\",\"$\"]],\r\n\t\t\t\tdisplayMath: [['$$', '$$']],\r\n\t\t\t},\r\n\t\t\t\"HTML-CSS\": {\r\n\t\t\t\tavailableFonts: [\"STIX\",\"TeX\"], //\r\n\t\t\t\tshowMathMenu: false //\r\n\t\t\t}\r\n\t\t});\r\n\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub, target]);\r\n\t}\r\n\telse {\r\n\t\tMathJax.Hub.Queue([\"Typeset\", MathJax.Hub, target]);\r\n\t}\r\n\r\n\t// \r\n\tinitTableAnimationChart();\r\n\r\n\t// \r\n\tawait ImageWall.init();\r\n};\r\nafterMarkUp.FootNoteUnInited = true;\r\n\r\nLifeCycle.on.ready(app => {\r\n\tconsole.log('Schwarzschild Blackhole System is READY!');\r\n\r\n\tapp.config.globalProperties.afterMarkUp = window.afterMarkUp;\r\n\tconst mutationObserver = new MutationObserver(async mutations => {\r\n\t\tvar markups = document.querySelectorAll('.markup');\r\n\t\tawait Promise.all([].map.call(markups, async mu => {\r\n\t\t\tvar content = mu.innerText;\r\n\t\t\tcontent = content.replace(/^\\t+|\\t+$/g, '\\n');\r\n\t\t\tcontent = await MarkUp.parse(content, {\r\n\t\t\t\ttoc: mu.classList.contains('toc'),\r\n\t\t\t\tglossary: mu.classList.contains('glossary'),\r\n\t\t\t\tresources: mu.classList.contains('resources'),\r\n\t\t\t\tshowtitle: mu.classList.contains('showtitle'),\r\n\t\t\t\tshowauthor: false,\r\n\t\t\t\tclassname: 'markup-content',\r\n\t\t\t});\r\n\t\t\tmu.innerHTML = content;\r\n\t\t\tmu.classList.remove('markup');\r\n\t\t}));\r\n\t\tif (markups.length > 0) await app.config.globalProperties.afterMarkUp();\r\n\t});\r\n\tmutationObserver.observe(document.body, {\r\n\t\tchildList: true,\r\n\t\tsubtree: true,\r\n\t});\r\n\tglobal.changeThemeColor = (color) => {\r\n\t\tif (!color) return;\r\n\t\tlocalStorage.setItem('themeColor', color);\r\n\t\tdocument.body.setAttribute('theme', color);\r\n\t};\r\n\tchangeThemeColor(localStorage.getItem('themeColor'));\r\n});\r\nLifeCycle.on.initialized((app) => {\r\n\tconsole.log('Schwarzschild Blackhole System is INITIALIZED!');\r\n});\r\n\r\nvar tmrDataUpdated = null;\r\nconst cbDataUpdated = data => {\r\n\tsessionStorage.setItem('sourceUpdated', data.target);\r\n\tlocation.reload();\r\n};\r\n(new BroadcastChannel('source-updated')).addEventListener('message', ({data}) => {\r\n\tif (!!tmrDataUpdated) {\r\n\t\tclearTimeout(tmrDataUpdated);\r\n\t}\r\n\ttmrDataUpdated = setTimeout(() => {\r\n\t\ttmrDataUpdated = null;\r\n\t\tcbDataUpdated(data);\r\n\t}, 100);\r\n});","import { render } from \"./navbar.vue?vue&type=template&id=27088264\"\nimport script from \"./navbar.vue?vue&type=script&lang=js\"\nexport * from \"./navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"home\">\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\n// @ is an alias to /src\nexport default {\n\tname: 'Home',\n}\n</script>","import { render } from \"./Home.vue?vue&type=template&id=55142182\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"category\">\n\t\t<Crumb />\n\t\t<Column />\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Category',\n}\n</script>","import { render } from \"./Category.vue?vue&type=template&id=d48deafc\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<Crumb />\r\n\t<div ref=\"menu\" class=\"floatMenu\" v-if=\"menuList.length>0\">\r\n\t\t<i class=\"fas fa-bars\"></i>\r\n\t\t<div class=\"menuFrame\">\r\n\t\t\t<div v-for=\"item in menuList\" class=\"menuItem\"\r\n\t\t\t\t:read=\"item.read\"\r\n\t\t\t\t:level=\"item.level\"\r\n\t\t\t\t@click=\"gotoMenu(item.key)\">{{item.title}}</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div ref=\"article\" class=\"container\" @click=\"onClick\"></div>\r\n\t<div class=\"likeCoinArea\" v-if=\"showLikeCoin\">\r\n\t\t<iframe v-if=\"!!likecoin\" :src=\"likecoin\"></iframe>\r\n\t</div>\r\n\t<div class=\"passwordInputter\" :show=\"showPassword\">\r\n\t\t<div class=\"title\"> IV </div>\r\n\t\t<input ref=\"ivinputter\" @keydown=\"onEnter\">\r\n\t\t<button @click=\"submitIV\"></button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst chScroll = new BroadcastChannel('page-scroll');\r\nconst chPageChanged = new BroadcastChannel('page-changed');\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\nconst chUpdateHistory = new BroadcastChannel('memory-updated');\r\nconst CCLicenses = ['BY', 'SA', 'NC', 'ND'];\r\nconst LicensesContent = {\r\n\tBY: \"\",\r\n\tSA: \"\",\r\n\tNC: \"\",\r\n\tND: \"\"\r\n};\r\n\r\nvar current = null, timer, lastIVRequest;\r\nchScroll.addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tif (!!timer) {\r\n\t\tclearTimeout(timer);\r\n\t}\r\n\ttimer = setTimeout(() => {\r\n\t\tif (!current) return;\r\n\t\tcurrent.onScroll(data);\r\n\t\ttimer = null;\r\n\t}, 100);\r\n});\r\nchPageChanged.addEventListener('message', ({data}) => {\r\n\tif (!current) return;\r\n\tcurrent.update();\r\n});\r\n\r\nexport default {\r\n\tname: 'Viewer',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tlikecoin: \"\",\r\n\t\t\tshowLikeCoin: false,\r\n\t\t\tmenuList: [],\r\n\t\t\tchapList: [],\r\n\t\t\tchapMap: {},\r\n\t\t\tshowPassword: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar article = this.$route.query.f, timestamp = (this.$route.query.t * 1) || 0;\r\n\t\t\tif (!article) {\r\n\t\t\t\tthis.$router.push({path: '/'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar isMU = !!article.match(/\\.e?mu$/i);\r\n\t\t\tvar isEncrypt = !!article.match(/\\.em[ud]$/i);\r\n\t\t\tif (isEncrypt && (!window.crypto || !window.crypto.getRandomValues\r\n\t\t\t\t|| !window.crypto.subtle || !window.crypto.subtle.encrypt || !window.crypto.subtle.decrypt)) {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\tthis.menuList.clear();\r\n\t\t\t\tthis.$refs.article.innerText = '<article class=\"markup-content\"><section><p><span class=\"english\">WebCrypto</span></p></section></article>';\r\n\t\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\t\taction: 'hide'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tasks = [Granary.getArticle(article, timestamp)];\r\n\t\t\tif (isMU) tasks.push(Granary.getContent('/api/copyright.md'));\r\n\t\t\tvar [content, copyright] = await Promise.all(tasks);\r\n\r\n\t\t\tif (isEncrypt) {\r\n\t\t\t\tcontent = await this.decrypt(content);\r\n\t\t\t\tif (!content && !!lastIVRequest) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar html = '', title = '', hasContent = true;\r\n\t\t\tif (!content) {\r\n\t\t\t\thasContent = false;\r\n\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\"></div></div>';\r\n\t\t\t}\r\n\t\t\telse if (!!copyright && isMU) {\r\n\t\t\t\tif (!content.match(/(^ *#|\\n *#)[ \\t]*.+/)) {\r\n\t\t\t\t\tcontent = \"# \\n\\n\" + content;\r\n\t\t\t\t}\r\n\t\t\t\tcontent = content + '\\n\\n\\n' + copyright;\r\n\t\t\t}\r\n\r\n\t\t\tvar markup;\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tif (timestamp === 0) timestamp = Date.now();\r\n\t\t\t\tmarkup = await MarkUp.fullParse(content, {\r\n\t\t\t\t\ttoc: true,\r\n\t\t\t\t\tglossary: isMU,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: true,\r\n\t\t\t\t\tshowauthor: isMU,\r\n\t\t\t\t\tdate: timestamp,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t\tmarkup.meta.others = markup.meta.others || {};\r\n\t\t\t\tcopyright = markup.meta.others.CopyRight;\r\n\t\t\t\ttitle = '' + markup.title + '';\r\n\t\t\t\thtml = markup.content;\r\n\t\t\t\tif (!html) {\r\n\t\t\t\t\thtml = '<div class=\"page_not_found\"><div class=\"frame\"></div><div class=\"title\">MarkUp </div></div>';\r\n\t\t\t\t\thasContent = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.$refs.article.innerHTML = html;\r\n\t\t\tif (hasContent) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t\tthis.addLikeCoin(markup.meta.others.LikeCoin);\r\n\t\t\t\tthis.refreshMenu(markup);\r\n\t\t\t\tif (!!copyright && isMU) {\r\n\t\t\t\t\tawait wait();\r\n\t\t\t\t\tthis.adjustCopyRight(copyright);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\tthis.likecoin = '';\r\n\t\t\t\tthis.refreshMenu();\r\n\t\t\t}\r\n\t\t\tdocument.title = title + ' (' + this.SiteName + ')';\r\n\r\n\t\t\twindow.PageInfo = window.PageInfo || {};\r\n\t\t\twindow.PageInfo.title = title;\r\n\t\t\twindow.PageInfo.url = this.$route.query.f;\r\n\t\t\tchUpdateHistory.postMessage({\r\n\t\t\t\ttype: 'history',\r\n\t\t\t\ttitle,\r\n\t\t\t\turl: this.$route.query.f\r\n\t\t\t});\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\taction: 'hide'\r\n\t\t\t});\r\n\t\t},\r\n\t\tadjustCopyRight (copyright) {\r\n\t\t\tif (!copyright) return html;\r\n\t\t\tvar licenses = [], version = \"0\";\r\n\t\t\tif (!copyright.match(/^ *cc *0(\\.0)* *$/i)) {\r\n\t\t\t\tif (!copyright.match(/^ *(cc +)(\\w+\\-)*\\w+( +(\\d+\\.)*\\d) *$/i)) return;\r\n\t\t\t\tcopyright = copyright.replace(/^ *cc +/i, '').replace(/ +$/, '').split(/ +/);\r\n\t\t\t\tversion = copyright[1] || '4.0';\r\n\t\t\t\tif (version.indexOf('.') < 0) version = version + '.0';\r\n\t\t\t\tlicenses = copyright[0].split('-').map(l => l.toUpperCase()).filter(l => CCLicenses.includes(l));\r\n\t\t\t\tlicenses.sort((a, b) => b > a ? -1 : (b < a ? 1 : 0));\r\n\t\t\t}\r\n\t\t\tvar crSection = null;\r\n\t\t\tthis.$refs.article.querySelectorAll('section').forEach(sect => {\r\n\t\t\t\tvar title = sect.querySelector('h1');\r\n\t\t\t\tif (!title) return;\r\n\t\t\t\tif (title.innerText !== '') return;\r\n\t\t\t\tcrSection = sect;\r\n\t\t\t});\r\n\r\n\t\t\tvar link = crSection.querySelector('p a');\r\n\t\t\tvar content = crSection.querySelector('blockquote p');\r\n\t\t\tif (licenses.length === 0) {\r\n\t\t\t\tlink.innerText = 'CC0';\r\n\t\t\t\tlink.href = \"https://en.wikipedia.org/wiki/Creative_Commons_license#Zero_/_public_domain\";\r\n\t\t\t\tcontent.innerHTML = '';\r\n\t\t\t\tlet next = content.parentElement.nextSibling;\r\n\t\t\t\tnext.parentElement.removeChild(next);\r\n\t\t\t}\r\n\t\t\telse if (licenses.includes('BY')) {\r\n\t\t\t\tlink.innerText = ' 4.0 CC ' + licenses.join('-') + ' ' + version + '';\r\n\t\t\t\tlink.href = 'http://creativecommons.org/licenses/' + licenses.join('-').toLowerCase() + '/' + version + '/';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'></a>\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('')\r\n\t\t\t\t\t+ \"<br>\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlink.innerText = ' 4.0 CC ' + licenses.join('-') + ' ' + version + '';\r\n\t\t\t\tlink.href = 'https://en.wikipedia.org/wiki/Creative_Commons';\r\n\t\t\t\tcontent.innerHTML =\r\n\t\t\t\t\t\"<a href='https://en.wikipedia.org/wiki/Creative_Commons_license#Attribution' target='_blank'></a>\" +\r\n\t\t\t\t\tlicenses.map(l => '<strong>' + LicensesContent[l] + '</strong>').join('')\r\n\t\t\t\t\t+ \"<br>\";\r\n\t\t\t}\r\n\t\t},\r\n\t\taddLikeCoin (likeCoin) {\r\n\t\t\tvar available = true;\r\n\t\t\tif (!!this.LikeCoin && !!this.LikeCoin.forbidden && this.LikeCoin.forbidden.length > 0) {\r\n\t\t\t\tlet host = ('.' + location.hostname + '.').replace(/\\.+/g, '.');\r\n\t\t\t\tavailable = this.LikeCoin.forbidden.every(fb => {\r\n\t\t\t\t\tfb = ('.' + fb + '.').replace(/\\.+/g, '.');\r\n\t\t\t\t\treturn host.indexOf(fb) < 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!available) {\r\n\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!likeCoin) {\r\n\t\t\t\tif (!this.LikeCoin) {\r\n\t\t\t\t\tthis.showLikeCoin = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (String.is(this.LikeCoin)) likeCoin = this.LikeCoin;\r\n\t\t\t\telse likeCoin = this.LikeCoin.id;\r\n\t\t\t}\r\n\r\n\t\t\tif (!!likeCoin) {\r\n\t\t\t\tthis.showLikeCoin = true;\r\n\t\t\t\tthis.likecoin = \"https://button.like.co/\" + likeCoin;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.likecoin = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\trefreshMenu (markup) {\r\n\t\t\tthis.menuList.clear();\r\n\t\t\tthis.chapList.clear();\r\n\t\t\tfor (let key in this.chapMap) {\r\n\t\t\t\tdelete this.chapMap[key];\r\n\t\t\t}\r\n\r\n\t\t\tif (!markup) return;\r\n\r\n\t\t\tmarkup.chapList.forEach(chap => {\r\n\t\t\t\tthis.menuList.push({\r\n\t\t\t\t\tlevel: chap[0] - 1,\r\n\t\t\t\t\tkey: chap[1],\r\n\t\t\t\t\ttitle: chap[2],\r\n\t\t\t\t\tread: false\r\n\t\t\t\t});\r\n\t\t\t\tvar chapEle = this.$refs.article.querySelector('a[name=\"' + chap[1] + '\"]');\r\n\t\t\t\tif (!!chapEle) {\r\n\t\t\t\t\tthis.chapList.push(chapEle);\r\n\t\t\t\t\tthis.chapMap[chap[1]] = chapEle;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonScroll (option) {\r\n\t\t\tvar limit = Devices.isMobile ? 0 : 25, index = 0, noLeft = true, delta = 0;\r\n\t\t\tif (option.total > option.height) {\r\n\t\t\t\tdelta = option.top / (option.total - option.height);\r\n\t\t\t\tdelta = (delta * delta) * option.height;\r\n\t\t\t}\r\n\t\t\tthis.chapList.some((chap, i) => {\r\n\t\t\t\tvar top = chap.getBoundingClientRect().top;\r\n\t\t\t\ttop -= delta;\r\n\t\t\t\tif (top > limit) {\r\n\t\t\t\t\tnoLeft = false;\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (index === 0 && noLeft) index = this.menuList.length\r\n\r\n\t\t\tfor (let i = 0; i < this.menuList.length; i ++) {\r\n\t\t\t\tthis.menuList[i].read = i < index;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tonVueHyperLinkTriggered(this, evt);\r\n\t\t},\r\n\t\tgotoMenu (menuKey) {\r\n\t\t\tvar chap = this.chapMap[menuKey];\r\n\t\t\tif (!chap) return;\r\n\t\t\tvar top = chap.getBoundingClientRect().top - (Devices.isMobile ? 5 : 30);\r\n\t\t\tapp.scrollBy({top, behavior: 'smooth'});\r\n\t\t\tthis.$refs.article.focus();\r\n\t\t},\r\n\t\trequestIVWord () {\r\n\t\t\treturn new Promise(res => {\r\n\t\t\t\tvar lastRes = lastIVRequest;\r\n\t\t\t\tlastIVRequest = res;\r\n\t\t\t\tif (!!lastRes) {\r\n\t\t\t\t\tlastRes(null);\r\n\t\t\t\t}\r\n\t\t\t\tthis.showPassword = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\tonEnter (evt) {\r\n\t\t\tif (evt.keyCode === 13) this.submitIV();\r\n\t\t},\r\n\t\tsubmitIV () {\r\n\t\t\tvar iv = this.$refs.ivinputter.value;\r\n\t\t\tif (!iv) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\ttitle: \"IV \"\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar code;\r\n\t\t\ttry {\r\n\t\t\t\tcode = base64tobuffer(iv);\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"IV\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar res = lastIVRequest;\r\n\t\t\tlastIVRequest = null;\r\n\t\t\tthis.showPassword = false;\r\n\t\t\tres([code, iv]);\r\n\t\t},\r\n\t\tasync decrypt (content) {\r\n\t\t\tvar key = localStorage.getItem('CurrentKey');\r\n\t\t\tif (!key) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tmessage: '/'\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tkey = base64tobuffer(key);\r\n\t\t\t\tkey = await window.crypto.subtle.importKey(\"raw\", key, \"AES-GCM\", true, [\"encrypt\", \"decrypt\"]);\r\n\t\t\t}\r\n\t\t\tcatch {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tmessage: '/'\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\r\n\t\t\tvar keyMap = localStorage.get('EncryptedContentKeys', {});\r\n\t\t\tvar iv, code;\r\n\t\t\tcode = keyMap[this.$route.query.f];\r\n\t\t\tif (!!code) {\r\n\t\t\t\tiv = base64tobuffer(code);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t[iv, code] = await this.requestIVWord();\r\n\t\t\t\tif (iv === null) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcontent = base64tobuffer(content);\r\n\t\t\tif (!content) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"BASE64 \",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t});\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tcontent = await window.crypto.subtle.decrypt({ name: \"AES-GCM\", iv}, key, content);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttitle: \"IV\",\r\n\t\t\t\t\tmessage: '/IV'\r\n\t\t\t\t});\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tcontent = (new TextDecoder()).decode(content);\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\ttype: \"error\"\r\n\t\t\t\t});\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// IV\r\n\t\t\tkeyMap[this.$route.query.f] = code;\r\n\t\t\tlocalStorage.set('EncryptedContentKeys', keyMap);\r\n\r\n\t\t\treturn content;\r\n\t\t}\r\n\t},\r\n\tasync mounted () {\r\n\t\tcurrent = this;\r\n\t\tawait this.update();\r\n\t\tthis.$refs.article.focus();\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrent = null;\r\n\t}\r\n}\r\n</script>","import { render } from \"./viewer.vue?vue&type=template&id=2b59d426\"\nimport script from \"./viewer.vue?vue&type=script&lang=js\"\nexport * from \"./viewer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Category from '../views/Category.vue';\nimport Viewer from '../views/viewer.vue';\n\nconst channel = new BroadcastChannel('route-updated');\nconst routes = [\n\t{\n\t\tpath: '/',\n\t\tname: 'Home',\n\t\tcomponent: Home\n\t},\n\t{\n\t\tpath: '/category',\n\t\tname: 'Category',\n\t\tcomponent: Category\n\t},\n\t{\n\t\tpath: '/view',\n\t\tname: 'Viewer',\n\t\tcomponent: Viewer\n\t},\n\t{\n\t\tpath: '/about',\n\t\tname: 'AboutSite',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/about/site.vue')\n\t\t}\n\t},\n\t{\"path\":\"/chinesecolor\",\"name\":\"chinesecolor\",\"component\":function(){return import(\"../pages/chinesecolor.vue\")}},{\"path\":\"/japanesecolor\",\"name\":\"japanesecolor\",\"component\":function(){return import(\"../pages/japanesecolor.vue\")}},{\"path\":\"/latex\",\"name\":\"latex\",\"component\":function(){return import(\"../pages/latex.vue\")}},{\"path\":\"/markup\",\"name\":\"markup\",\"component\":function(){return import(\"../pages/markup.vue\")}},{\"path\":\"/entertain/ballcrush\",\"name\":\"ballcrush\",\"component\":function(){return import(\"../pages/entertain/ballcrush.vue\")}},{\"path\":\"/entertain/rushgo\",\"name\":\"rushgo\",\"component\":function(){return import(\"../pages/entertain/rushgo.vue\")}},{\"path\":\"/entertain/training\",\"name\":\"training\",\"component\":function(){return import(\"../pages/entertain/training.vue\")}},{\"path\":\"/popsci/quantum1\",\"name\":\"quantum1\",\"component\":function(){return import(\"../pages/popsci/quantum1.vue\")}},{\"path\":\"/tools/markupEditor\",\"name\":\"markupEditor\",\"component\":function(){return import(\"../pages/tools/markupEditor.vue\")}},{\"path\":\"/tools/parseMarkup\",\"name\":\"parseMarkup\",\"component\":function(){return import(\"../pages/tools/parseMarkup.vue\")}},{path:'/aboutMe',name:'AboutMe',component:function(){return import('../views/aboutMe.vue')}},\n\t{\n\t\tpath: '/404',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t},\n\t{\n\t\tpath: '/:pathMatch(.*)*',\n\t\tname: 'PageNotFound',\n\t\tcomponent: function () {\n\t\t\treturn import('../views/404.vue')\n\t\t}\n\t}\n];\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes\n});\nrouter.afterEach((to, from) => {\n\tif (to.name === 'Category') {\n\t\tlet list = getPathNameList(to.query.c.split(','), false);\n\t\tif (!list) {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t\t}\n\t\telse {\n\t\t\tdocument.title = router.app.config.globalProperties.SiteName + ' / ' + list.map(c => c.name).join(' / ');\n\t\t}\n\t}\n\telse {\n\t\tdocument.title = router.app.config.globalProperties.SiteName;\n\t}\n\tchannel.postMessage({\n\t\tfrom: from.fullPath,\n\t\tto: to.fullPath\n\t});\n\n\tvar app = document.querySelector('#app');\n\tapp.scrollTo(0, 0);\n});\n\nexport default router;","<template>\r\n\t<div :class=\"'imageShowcase ' + (show ? 'show' : 'hide')\" @click=\"onClick\">\r\n\t\t<div class=\"imageFrame\">\r\n\t\t\t<div class=\"imagePage\" v-for=\"(image, i) in gallary\" :style=\"{left: ((i - index) * 100) + '%'}\">\r\n\t\t\t\t<div class=\"imageInstance\" :style=\"{backgroundImage: 'url(' + image.image + ')', width: image.width + 'px'}\" :width=\"image.width\" :height=\"image.height\"></div>\r\n\t\t\t\t<div class=\"imageLegend\">{{image.title}}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"imageButton close\" @click=\"show=false\"><i class=\"fas fa-times-circle\"></i></div>\r\n\t\t<div class=\"imageButton left\" :inactive=\"index <= 0\" @click=\"index --\"><i class=\"fas fa-angle-left\"></i></div>\r\n\t\t<div class=\"imageButton right\" :inactive=\"index >= gallary.length - 1\" @click=\"index ++\"><i class=\"fas fa-angle-right\"></i></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst findWall = ele => {\r\n\tvar parent = ele.parentNode;\r\n\tif (!parent) return null;\r\n\tvar tag = parent.tagName;\r\n\tif (!tag) return null;\r\n\ttag = tag.toLowerCase();\r\n\tif (tag === 'figuren') return findWall(parent);\r\n\tif (tag !== 'div') return null;\r\n\tif (parent.classList.contains('image-wall')) return parent;\r\n\treturn findWall(parent);\r\n};\r\nexport default {\r\n\tname: 'ImageShowcase',\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tshow: false,\r\n\t\t\tindex: 0,\r\n\t\t\tgallary: []\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tdocument.body.addEventListener('click', evt => {\r\n\t\t\tif (this.show) return;\r\n\t\t\tvar ele = evt.target, tag = ele.tagName;\r\n\t\t\tif (!tag) return;\r\n\t\t\ttag = tag.toLowerCase();\r\n\t\t\tvar hitted = false, img, wall;\r\n\t\t\tif (tag === 'img') {\r\n\t\t\t\thitted = true;\r\n\t\t\t\timg = ele;\r\n\t\t\t\twall = findWall(ele);\r\n\t\t\t}\r\n\t\t\telse if (tag === 'figure') {\r\n\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\tif (!!img) {\r\n\t\t\t\t\thitted = true;\r\n\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (tag === 'div') {\r\n\t\t\t\tif (ele.classList.contains('resource')) {\r\n\t\t\t\t\timg = ele.querySelector('img');\r\n\t\t\t\t\tif (!!img) {\r\n\t\t\t\t\t\thitted = true;\r\n\t\t\t\t\t\twall = findWall(ele);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!hitted) return;\r\n\r\n\t\t\tvar gallary = [], index = 0;\r\n\t\t\tif (!!wall) {\r\n\t\t\t\twall.querySelectorAll('.image-container.image-float div.resource.image').forEach((g, i) => {\r\n\t\t\t\t\tvar pic = g.querySelector('img');\r\n\t\t\t\t\tif (pic === img) index = i;\r\n\t\t\t\t\tvar title = g.querySelector('figcaption');\r\n\t\t\t\t\ttitle = title.innerText || \"\"\r\n\t\t\t\t\tgallary.push({\r\n\t\t\t\t\t\timage: pic.src,\r\n\t\t\t\t\t\twidth: pic.naturalWidth,\r\n\t\t\t\t\t\theight: pic.naturalHeight,\r\n\t\t\t\t\t\ttitle\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tindex = 0;\r\n\t\t\t\tlet title = img.parentNode;\r\n\t\t\t\tif (!!title) title = title.parentNode;\r\n\t\t\t\tif (!!title) title = title.querySelector('figcaption');\r\n\t\t\t\tif (!!title) title = title.innerText;\r\n\t\t\t\ttitle = title || '';\r\n\t\t\t\tgallary = [{\r\n\t\t\t\t\timage: img.src,\r\n\t\t\t\t\twidth: img.naturalWidth,\r\n\t\t\t\t\theight: img.naturalHeight,\r\n\t\t\t\t\ttitle\r\n\t\t\t\t}];\r\n\t\t\t}\r\n\t\t\tthis.showGallary(index, gallary);\r\n\t\t});\r\n\t\tdocument.body.addEventListener('keydown', evt => {\r\n\t\t\tif (!this.show) return;\r\n\t\t\tif (evt.keyCode === 37) {\r\n\t\t\t\tif (this.index > 0) this.index --;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 39) {\r\n\t\t\t\tif (this.index < this.gallary.length - 1) this.index ++;\r\n\t\t\t}\r\n\t\t\telse if (evt.keyCode === 27) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tonClick (evt) {\r\n\t\t\tif (evt.target.classList.contains('fas')) return;\r\n\t\t\tif (!!evt.target.querySelector('.fas')) return;\r\n\r\n\t\t\tif (!!evt.target.querySelector('.imageInstance')) {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (!evt.target.classList.contains('imageInstance')) return;\r\n\r\n\t\t\tvar width = evt.target.getAttribute('width') * 1 || 0;\r\n\t\t\tvar height = evt.target.getAttribute('height') * 1 || 0;\r\n\t\t\tvar w = evt.target.getBoundingClientRect();\r\n\t\t\tvar h = w.height;\r\n\t\t\tw = w.width;\r\n\t\t\tvar x = evt.offsetX, y = evt.offsetY;\r\n\t\t\tvar limitX = 0, limitY = 0;\r\n\r\n\t\t\tif (width <= w) {\r\n\t\t\t\tif (height > h) {\r\n\t\t\t\t\tlet ww = width / height * h;\r\n\t\t\t\t\tlimitX = (w - ww) / 2;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlimitX = (w - width) / 2;\r\n\t\t\t\t\tlimitY = (h - height) / 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet ww = w, hh = height / width * w;\r\n\t\t\t\tif (hh > h) {\r\n\t\t\t\t\tww = w / hh * h;\r\n\t\t\t\t\thh = h;\r\n\t\t\t\t}\r\n\t\t\t\tlimitX = (w - ww) / 2;\r\n\t\t\t\tlimitY = (h - hh) / 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (x > w / 2) x = w - x;\r\n\t\t\tif (y > h / 2) y = h - y;\r\n\t\t\tif (x < limitX || y < limitY) this.show = false;\r\n\t\t},\r\n\t\tshowGallary (index, gallary) {\r\n\t\t\tthis.index = index;\r\n\t\t\tthis.gallary.splice(0, this.gallary.length);\r\n\t\t\tgallary.forEach(g => this.gallary.push(g));\r\n\t\t\tthis.show = true;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./imageShowcase.vue?vue&type=template&id=262771ca\"\nimport script from \"./imageShowcase.vue?vue&type=script&lang=js\"\nexport * from \"./imageShowcase.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<nav class=\"nav-menu-bar\">\r\n\t\t<NavMenuItem v-for=\"item in menu\" :title=\"item.name\" :action=\"(!!item.category&&item.category.length>0)?(!!supers?(supers+','+item.category):item.category):''\" :type=\"item.type\" :subs=\"item.subs\" :disabled=\"item.disabled\" />\r\n\t</nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuBar',\r\n\tprops: {\r\n\t\tsupers: \"\",\r\n\t\tmenu: Array\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenubar.vue?vue&type=template&id=5be834fb\"\nimport script from \"./navmenubar.vue?vue&type=script&lang=js\"\nexport * from \"./navmenubar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"loading\" :class=\"show?'show':'hide'\">\r\n\t\t<div class=\"hint\">\r\n\t\t\t<div class=\"animate spin\" v-if=\"type==='spin'\"><i class=\"fas fa-spinner fa-spin fa-fast\" /></div>\r\n\t\t\t<div class=\"animate pulse\" v-if=\"type==='pulse'\">\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t\t<i class=\"fas fa-square\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t</div>\r\n\t\t<div class=\"forceQuit\" v-if=\"forcequit\" @click=\"forceQuit\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nconst channel = new BroadcastChannel('change-loading-hint');\r\nglobal.callPageLoaded = () => {\r\n\tvar ch = new BroadcastChannel('change-loading-hint');\r\n\tch.postMessage({action: 'hide'});\r\n};\r\nvar quiter = null;\r\n\r\nexport default {\r\n\tname: \"Loading\",\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\ttitle: \"\",\r\n\t\t\tshow: true,\r\n\t\t\ttype: \"pulse\",\r\n\t\t\tforcequit: false\r\n\t\t}\r\n\t},\r\n\tcreated () {\r\n\t\tchannel.addEventListener('message', msg => {\r\n\t\t\tvar data = msg.data;\r\n\t\t\tif (data.action === 'show') {\r\n\t\t\t\tdata.title = data.title || '';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tquiter = setTimeout(() => {\r\n\t\t\t\t\tthis.forcequit = true;\r\n\t\t\t\t}, 5000);\r\n\t\t\t\tthis.show = true;\r\n\t\t\t}\r\n\t\t\telse if (data.action === 'hide') {\r\n\t\t\t\tdata.title = data.title || '';\r\n\t\t\t\tthis.forcequit = false;\r\n\t\t\t\tif (!!quiter) {\r\n\t\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\t\tquiter = null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = false;\r\n\t\t\t}\r\n\t\t\tif (String.is(data.title)) this.title = data.title;\r\n\t\t\tif (['spin', 'pulse'].indexOf(data.type) >= 0) this.type = data.type;\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\tforceQuit () {\r\n\t\t\tif (!!quiter) {\r\n\t\t\t\tclearTimeout(quiter);\r\n\t\t\t\tquiter = null;\r\n\t\t\t}\r\n\t\t\tthis.show = false;\r\n\t\t}\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<div class=\"tail-bar\">\r\n\t\t<div class=\"left\">\r\n\t\t\t 2020 - 2021 LostAbaddon, all rights reserved.\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\tGenerated by <a target=\"_blank\" href=\"https://github.com/LostAbaddon/Schwarzschild\">Schwarzschild v0.1.2</a>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'TailBar'\r\n}\r\n</script>","import { render } from \"./tail.vue?vue&type=template&id=0c814340\"\nimport script from \"./tail.vue?vue&type=script&lang=js\"\nexport * from \"./tail.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./loading.vue?vue&type=template&id=1f515cf3\"\nimport script from \"./loading.vue?vue&type=script&lang=js\"\nexport * from \"./loading.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n\t<section class=\"column container\" @click=\"onClick\">\r\n\t\t<header ref=\"header\"></header>\r\n\t\t<caption v-if=\"showList\">\r\n\t\t\t<span></span>\r\n\t\t\t<div class=\"controller\">\r\n\t\t\t\t<div class=\"hint\"><i class=\"fas fa-sliders-h\"></i></div>\r\n\t\t\t\t<div class=\"styleList\">\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"bars\"><i class=\"fas fa-bars\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"lines\"><i class=\"fas fa-stream\"></i></div>\r\n\t\t\t\t\t<div class=\"styleItem\" name=\"columns\"><i class=\"fas fa-columns\"></i></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</caption>\r\n\t\t<ColumnItem v-if=\"showList\" v-for=\"article in list\"\r\n\t\t\t:title=\"article.title\"\r\n\t\t\t:author=\"article.author\"\r\n\t\t\t:description=\"article.description\"\r\n\t\t\t:type=\"article.type\"\r\n\t\t\t:timemark=\"article.timemark\"\r\n\t\t\t:timestamp=\"article.timestamp\"\r\n\t\t\t:categoryName=\"article.category\"\r\n\t\t\t:categoryPath=\"article.sort\"\r\n\t\t\t:filename=\"article.filename\"\r\n\t\t\t:redirect=\"article.target\"\r\n\t\t/>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nimport ColumnItem from '@/components/columnItem.vue';\r\n\r\nconst getTimeString = _('Utils').getTimeString;\r\nvar currColumn = null;\r\nconst chPageChanged = new BroadcastChannel('page-changed');\r\nchPageChanged.addEventListener('message', msg => {\r\n\tif (!currColumn) return;\r\n\tcurrColumn.update();\r\n});\r\nconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\r\nconst nameMap = new Map();\r\nconst getName = path => {\r\n\tvar name = nameMap.get(path);\r\n\tif (!!name) return name;\r\n\tvar m = SiteMap;\r\n\tname = null;\r\n\tpath = path.split(/[\\\\\\/]/).filter(p => p.length > 0);\r\n\tpath.some((p, i) => {\r\n\t\tvar entry = m[p];\r\n\t\tif (!entry) return true;\r\n\t\tm = entry.subs;\r\n\t\tif (i === path.length - 1) name = entry.name;\r\n\t});\r\n\tif (!!name) {\r\n\t\tnameMap.set(path, name);\r\n\t\treturn name;\r\n\t}\r\n\treturn path.last;\r\n};\r\n\r\nexport default {\r\n\tname: \"Column\",\r\n\tcomponents: {ColumnItem},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\titemPerPage: 20,\r\n\t\t\tlist: [],\r\n\t\t\tshowList: true,\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getHeaderInfo (category) {\r\n\t\t\tvar info = await Granary.getColumnHeader(category);\r\n\t\t\tvar content = '';\r\n\t\t\tif (!!info) {\r\n\t\t\t\tcontent = await MarkUp.parse(info, {\r\n\t\t\t\t\ttoc: false,\r\n\t\t\t\t\tglossary: false,\r\n\t\t\t\t\tresources: false,\r\n\t\t\t\t\tshowtitle: false,\r\n\t\t\t\t\tshowauthor: false,\r\n\t\t\t\t\tclassname: 'markup-content',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.$refs.header.innerHTML = content;\r\n\t\t\tif (!!info) {\r\n\t\t\t\tawait this.afterMarkUp();\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getArticleList (category) {\r\n\t\t\tvar articles = await Granary.getCategory(category);\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tarticles.forEach((art) => {\r\n\t\t\t\tart.category = getName(art.sort);\r\n\t\t\t\tart.placehoding = false;\r\n\t\t\t\tart.timestamp = (new Date(art.publish)).getTime();\r\n\t\t\t\tart.timemark = getTimeString(new Date(art.publish), \"YYMMDDhhmm\");\r\n\t\t\t\tart.description = art.description || '';\r\n\t\t\t\tthis.list.push(art);\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync update () {\r\n\t\t\tchChangeLoadingHint.postMessage({\r\n\t\t\t\tname: '',\r\n\t\t\t\taction: 'show'\r\n\t\t\t});\r\n\r\n\t\t\tvar style = localStorage.getItem('columnStyle') || 'lines';\r\n\t\t\tthis.$el.setAttribute('columnStyle', style);\r\n\r\n\t\t\tthis.list.splice(0, this.list.length);\r\n\t\t\tthis.header = '';\r\n\r\n\t\t\tvar category = null;\r\n\t\t\tif (this.$route.path === '/') {\r\n\t\t\t\tcategory = '/';\r\n\t\t\t}\r\n\t\t\telse if (this.$route.path === '/category') {\r\n\t\t\t\tif (!!this.$route.query && !!this.$route.query.c) {\r\n\t\t\t\t\tcategory = '/' + this.$route.query.c.split(',').filter(c => c.length > 0).join('/');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcategory = category.replace(/^[\\/\\\\]+/, '');\r\n\r\n\t\t\tvar cateList = category.split('/').filter(c => c.length > 0);\r\n\t\t\tvar cateType = SiteMap;\r\n\t\t\tif (cateList.length > 0) {\r\n\t\t\t\tcateList.some(cate => {\r\n\t\t\t\t\tcate = cateType[cate];\r\n\t\t\t\t\tif (!!cate.subs && cate.subs.length > 0) {\r\n\t\t\t\t\t\tcateType = cate.subs;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcateType = cate.type;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcateType = 'viewer';\r\n\t\t\t}\r\n\r\n\t\t\tif (cateType === 'folder') {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t\tawait this.getHeaderInfo(category);\r\n\t\t\t}\r\n\t\t\telse if (cateType === 'viewer') {\r\n\t\t\t\tthis.showList = true;\r\n\t\t\t\tawait Promise.all([this.getHeaderInfo(category), this.getArticleList(category)]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.showList = false;\r\n\t\t\t}\r\n\r\n\t\t\tchChangeLoadingHint.postMessage({action: 'hide'});\r\n\t\t},\r\n\t\tonClick (evt) {\r\n\t\t\tvar ele = findContentWrapper(evt.target);\r\n\t\t\tif (!ele) return;\r\n\r\n\t\t\tif (ele.classList.contains('hint')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.classList.contains('styleItem')) {\r\n\t\t\t\tlet name = ele.getAttribute('name');\r\n\t\t\t\tthis.$el.setAttribute('columnStyle', name);\r\n\t\t\t\tlocalStorage.setItem('columnStyle', name);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (ele.nodeName.toLowerCase() === 'a') {\r\n\t\t\t\tif (onVueHyperLinkTriggered(this, evt)) return;\r\n\t\t\t}\r\n\t\t\tvar filename = undefined, category = undefined, timestamp = undefined, type = \"article\";\r\n\t\t\tif (!ele) return;\r\n\t\t\twhile (!filename && !category) {\r\n\t\t\t\tfilename = ele.getAttribute('redirect');\r\n\t\t\t\tif (!!filename) {\r\n\t\t\t\t\ttype = 'redirect';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfilename = ele.getAttribute('filename');\r\n\t\t\t\t\ttype = \"article\";\r\n\t\t\t\t}\r\n\t\t\t\tcategory = ele.getAttribute('path');\r\n\t\t\t\ttimestamp = ele.getAttribute('timestamp') * 1;\r\n\t\t\t\tele = ele.parentNode;\r\n\t\t\t\tif (!ele || ele === document.body) break;\r\n\t\t\t}\r\n\t\t\tif (!!category) {\r\n\t\t\t\tthis.$router.push({path: '/category', query: {c: category.split(/[\\\\\\/]+/).join(',')}});\r\n\t\t\t\tif (this.$route.name === 'Category') {\r\n\t\t\t\t\tlet channel = new BroadcastChannel('page-changed');\r\n\t\t\t\t\tchannel.postMessage(category);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (!!filename) {\r\n\t\t\t\tthis.$router.push({path: '/view', query: {f: filename}});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmounted () {\r\n\t\tcurrColumn = this;\r\n\t\tthis.update();\r\n\t},\r\n\tunmounted () {\r\n\t\tcurrColumn = null;\r\n\t}\r\n}\r\n</script>","<template>\r\n\t<section class=\"column-item\" :filename=\"!!filename?categoryPath+'/'+filename:''\" :timestamp=\"timestamp\" :redirect=\"redirect\">\r\n\t\t<header>\r\n\t\t\t<div class=\"title\">{{title}}</div>\r\n\t\t\t<div class=\"category\" :path=\"categoryPath\">{{categoryName}}</div>\r\n\t\t</header>\r\n\t\t<article>{{description}}</article>\r\n\t\t<footer>\r\n\t\t\t<div class=\"author\">{{author}}</div>\r\n\t\t\t<div class=\"timestamp\">{{timemark}}</div>\r\n\t\t</footer>\r\n\t</section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"ColumnItem\",\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\tauthor: String,\r\n\t\tdescription: String,\r\n\t\ttype: String,\r\n\t\ttimemark: String,\r\n\t\ttimestamp: Number,\r\n\t\tcategoryName: String,\r\n\t\tcategoryPath: String,\r\n\t\tfilename: String,\r\n\t\tredirect: String\r\n\t}\r\n}\r\n</script>","import { render } from \"./columnItem.vue?vue&type=template&id=af9d933e\"\nimport script from \"./columnItem.vue?vue&type=script&lang=js\"\nexport * from \"./columnItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./column.vue?vue&type=template&id=ab17a30c\"\nimport script from \"./column.vue?vue&type=script&lang=js\"\nexport * from \"./column.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","window.InitAsimov = async () => {\r\n\t// MarkUp\r\n\tif (!!window.SharedWorker || !!window.Worker) {\r\n\t\tlet TaskPool = new Map();\r\n\t\tlet generateID = () => Math.floor(Math.random() * 100000000);\r\n\r\n\t\tlet asimovWorker, workerPort, workerName;\r\n\t\tif (!!window.SharedWorker) {\r\n\t\t\tworkerName = 'Shared-Worker Asimov';\r\n\t\t\tasimovWorker = new SharedWorker('/js/worker/asimov.js');\r\n\t\t\tworkerPort = asimovWorker.port;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tworkerName = 'Dedicated-Worker Asimov';\r\n\t\t\tasimovWorker = new Worker('/js/worker/asimov.js');\r\n\t\t\tworkerPort = asimovWorker;\r\n\t\t}\r\n\t\tworkerPort.onmessage = ({data}) => {\r\n\t\t\tconsole.log(workerName + ' finished task-' + data.id);\r\n\t\t\tvar res = TaskPool.get(data.id);\r\n\t\t\tTaskPool.delete(data.id);\r\n\t\t\tif (!res) return;\r\n\t\t\tres(data.markup);\r\n\t\t};\r\n\r\n\t\twindow.MarkUp = window.MarkUp || {};\r\n\t\twindow.MarkUp.fullParse = (text, config) => new Promise(res => {\r\n\t\t\tvar id = generateID();\r\n\t\t\tTaskPool.set(id, res);\r\n\t\t\tconsole.log(workerName + ' started task-' + id);\r\n\t\t\tworkerPort.postMessage({id, content: text, config});\r\n\t\t});\r\n\t\twindow.MarkUp.parse = async (text, config) => {\r\n\t\t\tvar result;\r\n\t\t\tresult = await MarkUp.fullParse(text + '\\n', config);\r\n\t\t\tif (!result) return '';\r\n\t\t\treturn result.content;\r\n\t\t};\r\n\r\n\t\twindow.onbeforeunload = () => {\r\n\t\t\tworkerPort.postMessage('suicide');\r\n\t\t\tworkerPort.close();\r\n\t\t};\r\n\t}\r\n\t// MarkUp\r\n\telse {\r\n\t\tawait loadJS('/Asimov/markup.js');\r\n\t\tawait loadJS('/Asimov/extensions.js');\r\n\t\tawait loadJS('/js/worker/extmarkup.js');\r\n\t}\r\n};","<template>\r\n\t<div class=\"nav-menu-item\" v-if=\"!disabled\">\r\n\t\t<a @click=\"click(type, action)\">{{title}}<i class=\"fas fa-caret-down\" v-if=\"!!subs\" /></a>\r\n\t\t<i class=\"hint fas fa-caret-right\" v-if=\"!!subs\" />\r\n\t\t<NavMenuBar v-if=\"!!subs\" :menu=\"subs\" :supers=\"action\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: 'NavMenuItem',\r\n\tprops: {\r\n\t\ttitle: String,\r\n\t\ttype: String,\r\n\t\taction: String,\r\n\t\tsubs: Array,\r\n\t\tdisabled: Boolean\r\n\t},\r\n\tmethods: {\r\n\t\tclick (type, action) {\r\n\t\t\taction = action.split(',').filter(f => f.length > 0);\r\n\t\t\tif (action.length === 0) return;\r\n\r\n\t\t\tvar target = {};\r\n\t\t\tif (type === 'page') {\r\n\t\t\t\ttarget.path = '/' + action.join('/');\r\n\t\t\t}\r\n\t\t\telse if (type === 'viewer' || type === 'folder') {\r\n\t\t\t\ttarget.path = '/category';\r\n\t\t\t\ttarget.query = {c: action.join(',')};\r\n\t\t\t}\r\n\t\t\telse if (type === 'article') {\r\n\t\t\t\ttarget.path = '/view';\r\n\t\t\t\ttarget.query = {f: action.last};\r\n\t\t\t}\r\n\t\t\telse if (type === 'url') {\r\n\t\t\t\tlocation.href = location.origin + action.last;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if (type === 'action') {\r\n\t\t\t\tif (action[0] === 'color') {\r\n\t\t\t\t\tchangeThemeColor(action[1]);\r\n\t\t\t\t}\r\n\t\t\t\telse if (action[0] === 'keyManager') {\r\n\t\t\t\t\t(new BroadcastChannel('setting')).postMessage({ action: 'KeyManager' });\r\n\t\t\t\t}\r\n\t\t\t\telse if (action[0] === 'addFavorite') {\r\n\t\t\t\t\t(new BroadcastChannel('memory-updated')).postMessage({\r\n\t\t\t\t\t\ttype: 'favorite',\r\n\t\t\t\t\t\ttitle: window.PageInfo.title,\r\n\t\t\t\t\t\turl: window.PageInfo.url\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse if (action[0] === 'removeFavorite') {\r\n\t\t\t\t\t(new BroadcastChannel('memory-updated')).postMessage({\r\n\t\t\t\t\t\ttype: 'unfavorite',\r\n\t\t\t\t\t\ttitle: window.PageInfo.title,\r\n\t\t\t\t\t\turl: window.PageInfo.url\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar can_go = true, same_page = false;\r\n\t\t\tif (this.$route.path === target.path) {\r\n\t\t\t\tsame_page = true;\r\n\t\t\t\tlet c1 = !!this.$route.query ? (this.$route.query.c || this.$route.query.f || '') : '';\r\n\t\t\t\tlet c2 = !!target.query ? (target.query.c || target.query.f || '') : '';\r\n\t\t\t\tif (c1 === c2) can_go = false;\r\n\t\t\t}\r\n\t\t\tif (can_go) {\r\n\t\t\t\tthis.$router.push(target);\r\n\t\t\t\tif (same_page) (new BroadcastChannel('page-changed')).postMessage(target);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import { render } from \"./navmenuitem.vue?vue&type=template&id=2c17a33a\"\nimport script from \"./navmenuitem.vue?vue&type=script&lang=js\"\nexport * from \"./navmenuitem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","/**\r\n * Name:\tLRU Cache\r\n * Desc:    Map\r\n * Author:\tLostAbaddon\r\n * Version:\t0.0.4\r\n * Date:\t2019.06.22\r\n */\r\n\r\n(() => {\r\n\tconst SymbUpdate = Symbol('update');\r\n\tconst DefaultSize = 100;\r\n\r\n\tconst isNumber = num => {\r\n\t\tif (isNaN(num)) return false;\r\n\t\tif (typeof(num) !== 'number') return false;\r\n\t\treturn true;\r\n\t};\r\n\r\n\tclass LRUCache {\r\n\t\tconstructor (limit=100) {\r\n\t\t\tthis.cache = new Map();\r\n\t\t\tthis.secondary = new Map();\r\n\t\t\tthis.limit = isNumber(limit) ? limit : DefaultSize;\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\tset (k, v) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (!has) this[SymbUpdate](k, v);\r\n\t\t\telse this.cache.set(k, v);\r\n\t\t}\r\n\t\tget (k) {\r\n\t\t\tvar v = this.cache.get(k);\r\n\t\t\tif (v !== undefined) return v;\r\n\t\t\tv = this.secondary.get(k);\r\n\t\t\tif (v !== undefined) this[SymbUpdate](k, v);\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\tdel (k) {\r\n\t\t\tconst has = this.cache.has(k);\r\n\t\t\tif (has) this.length --;\r\n\t\t\tthis.cache.delete(k);\r\n\t\t\tthis.secondary.delete(k);\r\n\t\t}\r\n\t\thas (k) {\r\n\t\t\treturn this.cache.has(k) || this.secondary.has(k);\r\n\t\t}\r\n\t\tclear () {\r\n\t\t\tthis.cache.clear();\r\n\t\t\tthis.secondary.clear();\r\n\t\t\tthis.length = 0;\r\n\t\t}\r\n\t\t[SymbUpdate] (k, v) {\r\n\t\t\tthis.length ++;\r\n\t\t\tif (this.length >= this.limit) {\r\n\t\t\t\tthis.secondary = this.cache;\r\n\t\t\t\tthis.cache = new Map();\r\n\t\t\t\tthis.length = 0;\r\n\t\t\t}\r\n\t\t\tthis.cache.set(k, v);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.LRUCache = LRUCache;\r\n}) ();","// \r\n\r\n(() => {\r\n\tconst chChangeLoadingHint = new BroadcastChannel('change-loading-hint');\r\n\t// const chShowImage = new BroadcastChannel('show-image');\r\n\r\n\tconst queryAll = (tag, host) => {\r\n\t\thost = host || document;\r\n\t\tvar eles = host.querySelectorAll(tag);\r\n\t\treturn [].map.call(eles, e => e);\r\n\t};\r\n\tconst createEle = (tag, cls) => {\r\n\t\tvar ele = document.createElement(tag);\r\n\t\tif (String.is(cls)) ele.classList.add(cls);\r\n\t\telse if (Array.is(cls)) cls.forEach(c => ele.classList.add(c));\r\n\t\treturn ele;\r\n\t};\r\n\tconst stopOthers = (ele, all) => {\r\n\t\tall.forEach(e => {\r\n\t\t\tif (e === ele) return;\r\n\t\t\te.pause();\r\n\t\t});\r\n\t};\r\n\r\n\tglobal.ImageWall = {\r\n\t\twhRate: 3 / 4,\r\n\t\tasync init () {\r\n\t\t\tconst Container = document.querySelector('#container > div');\r\n\r\n\t\t\t// \r\n\t\t\tvar avs = [...queryAll('.markup-content audio'), ...queryAll('.markup-content video')];\r\n\t\t\tavs.forEach(a => {\r\n\t\t\t\ta.onplay = () => stopOthers(a, avs);\r\n\t\t\t});\r\n\r\n\t\t\tvar imageCount = 0, imageLoaded = 0;\r\n\t\t\tqueryAll('.markup-content .image-wall').forEach(w => {\r\n\t\t\t\tvar divs = queryAll('div.resource', w);\r\n\r\n\t\t\t\tw._total = divs.length;\r\n\t\t\t\tw._index = 0;\r\n\t\t\t\tw._frame = w.querySelector('div.image-container.image-ghost');\r\n\t\t\t\tif (!w._frame) {\r\n\t\t\t\t\tw._frame = createEle('div', ['image-container', 'image-ghost']);\r\n\t\t\t\t\tw.appendChild(w._frame);\r\n\t\t\t\t}\r\n\t\t\t\tw._float = w.querySelector('div.image-container.image-float');\r\n\t\t\t\tif (!w._float) {\r\n\t\t\t\t\tw._float = createEle('div', ['image-container', 'image-float']);\r\n\t\t\t\t\tw.appendChild(w._float);\r\n\t\t\t\t}\r\n\t\t\t\tw._left = w.querySelector('div.image-button-left');\r\n\t\t\t\tif (!w._left) {\r\n\t\t\t\t\tw._left = createEle('div', 'image-button-left');\r\n\t\t\t\t\tw._left.innerHTML = '<i class=\"fas fa-angle-left\"></i>';\r\n\t\t\t\t\tw.appendChild(w._left);\r\n\t\t\t\t\tw._left.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index <= 0) return;\r\n\t\t\t\t\t\tw._index --;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index < w._total - 1) w._right.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index <= 0) w._left.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tw._right = w.querySelector('div.image-button-right');\r\n\t\t\t\tif (!w._right) {\r\n\t\t\t\t\tw._right = createEle('div', 'image-button-right');\r\n\t\t\t\t\tw._right.innerHTML = '<i class=\"fas fa-angle-right\"></i>';\r\n\t\t\t\t\tw.appendChild(w._right);\r\n\t\t\t\t\tw._right.addEventListener('click', evt => {\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) return;\r\n\t\t\t\t\t\tw._index ++;\r\n\t\t\t\t\t\tw._float.style.transform = 'translateX(-' + (100 / w._total * w._index) + '%)';\r\n\t\t\t\t\t\tif (w._index > 0) w._left.classList.remove('inactive');\r\n\t\t\t\t\t\tif (w._index >= w._total - 1) w._right.classList.add('inactive');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tw._callback = (width, height) => {\r\n\t\t\t\t\tif (divs.some(d => !d._ready)) return;\r\n\t\t\t\t\tw.classList.add('loaded');\r\n\t\t\t\t\tw._index = 0;\r\n\t\t\t\t\tw._float.style.transform = 'translateX(0%)';\r\n\t\t\t\t\tw._left.classList.add('inactive');\r\n\r\n\t\t\t\t\tdivs.forEach((div, i) => {\r\n\t\t\t\t\t\tvar frame = createEle('div', 'image-frame');\r\n\t\t\t\t\t\tw._frame.appendChild(frame);\r\n\t\t\t\t\t\tframe.appendChild(div);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tw._float.innerHTML = w._frame.innerHTML;\r\n\t\t\t\t\tw._float.style.width = (w._total * 100) + '%'\r\n\t\t\t\t\tqueryAll('div.image-frame', w._float).forEach(div => {\r\n\t\t\t\t\t\tdiv.style.width = (100 / w._total) + '%';\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\tdivs.forEach(div => {\r\n\t\t\t\t\tw._frame.appendChild(div);\r\n\t\t\t\t\tdiv._wall = w;\r\n\t\t\t\t\tdiv.classList.add('inside');\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tawait Promise.all(queryAll('div.resource.image').map(div => new Promise(res => {\r\n\t\t\t\timageCount ++;\r\n\t\t\t\tvar img = div.querySelector('img'), fig = div.querySelector('figure');\r\n\t\t\t\tif (!img) {\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: ': ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\treturn res();\r\n\t\t\t\t}\r\n\t\t\t\tvar inside = div.classList.contains('inside');\r\n\t\t\t\tif (!inside) div.classList.add('outside');\r\n\r\n\t\t\t\timg.onload = () => {\r\n\t\t\t\t\tvar containerWidth = Container.getBoundingClientRect().width;\r\n\t\t\t\t\tvar containerHeight = containerWidth * ImageWall.whRate;\r\n\r\n\t\t\t\t\timg._available = true;\r\n\t\t\t\t\timg.setAttribute('oWidth', img.naturalWidth);\r\n\t\t\t\t\timg.setAttribute('oHeight', img.naturalHeight);\r\n\t\t\t\t\tfig.classList.add('loaded');\r\n\t\t\t\t\tfig.style.backgroundImage = 'url(' + img.src + ')';\r\n\t\t\t\t\tdiv.style.width = img.naturalWidth + 'px';\r\n\r\n\t\t\t\t\tvar rateWidth = img.naturalWidth;\r\n\t\t\t\t\tvar rateHeight = img.naturalHeight;\r\n\t\t\t\t\tif (img.naturalHeight / img.naturalWidth > ImageWall.whRate) {\r\n\t\t\t\t\t\tfig.classList.add('tall');\r\n\t\t\t\t\t\tfig.style.width = (100 * img.naturalWidth / img.naturalHeight * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * ImageWall.whRate) + '%';\r\n\t\t\t\t\t\trateHeight = img.naturalWidth * ImageWall.whRate;\r\n\t\t\t\t\t\trateWidth = rateHeight * img.naturalWidth / img.naturalHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfig.classList.remove('tall');\r\n\t\t\t\t\t\tfig.style.width = '100%';\r\n\t\t\t\t\t\tfig.style.paddingTop = (100 * img.naturalHeight / img.naturalWidth) + '%';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!!div._wall) {\r\n\t\t\t\t\t\tdiv._ready = true;\r\n\t\t\t\t\t\tdiv._wall._callback(rateWidth, rateHeight);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: ': ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t\timg.onerror = () => {\r\n\t\t\t\t\timg._available = false;\r\n\t\t\t\t\tdiv.classList.add('failed');\r\n\r\n\t\t\t\t\timageLoaded ++;\r\n\t\t\t\t\tchChangeLoadingHint.postMessage({title: ': ' + imageLoaded + ' / ' + imageCount});\r\n\t\t\t\t\tres();\r\n\t\t\t\t};\r\n\t\t\t})));\r\n\t\t}\r\n\t};\r\n})();"],"sourceRoot":""}